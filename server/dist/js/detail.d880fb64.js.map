{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./src/components/Detail/DetailSongList.vue?3ebb","webpack:///./node_modules/core-js/modules/es.object.is.js","webpack:///./src/api/recomment.js","webpack:///./src/api/singer.js","webpack:///./src/views/details/index.vue?cac0","webpack:///./src/views/details/index.vue?17e5","webpack:///./src/api/rank.js","webpack:///./src/components/Detail/DetailBackGround.vue?eaf8","webpack:///./src/directives/pull.js","webpack:///src/components/Detail/DetailBackGround.vue","webpack:///./src/components/Detail/DetailBackGround.vue?ce09","webpack:///./src/components/Detail/DetailBackGround.vue","webpack:///./src/components/Detail/DetailSongList.vue?2fd6","webpack:///src/components/Detail/DetailSongList.vue","webpack:///./src/components/Detail/DetailSongList.vue?a198","webpack:///./src/components/Detail/DetailSongList.vue","webpack:///src/views/details/index.vue","webpack:///./src/views/details/index.vue?12d4","webpack:///./src/views/details/index.vue","webpack:///./src/components/Detail/DetailBackGround.vue?0b56"],"names":["module","exports","Object","is","x","y","$","target","stat","vGetPersonalized","service","url","method","vGetNewsong","vGetBanner","recommentSongs","id","vGetDetail","vGetSinger","singerSongs","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","scroll","attrs","percent","directives","name","rawName","value","expression","staticStyle","_v","_s","$route","query","songs","player","beforeEnter","enter","afterEnter","staticRenderFns","rankSongs","touchstart","touchmove","touchend","parentNode","ref","singerPic","inserted","el","startY","imgEl","children","imgHeight","clientHeight","easeOutCubic","t","b","c","d","e","targetTouches","clientY","classList","remove","moveDis","window","scrollY","height","style","scale","transform","add","removeEventListener","unbind","pull","component","_l","item","index","key","$event","stopPropagation","preventDefault","$emit","currentTarget","currrenSong","singer","class","first","props","Array","computed","components","data","playCount","showText","scrollTop","musicIcon","dom","created","componentName","params","methods","getSongs","list","forEach","ele","ar","picUrl","al","push","song","freeze","offsetWidth","transition","done","Math","min","playList","setPlay","setSequenceList","setCurrrentIndex"],"mappings":"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","file":"js/detail.d880fb64.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailSongList.vue?vue&type=style&index=0&id=533d3156&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailSongList.vue?vue&type=style&index=0&id=533d3156&scoped=true&lang=less&\"","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.github.io/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","import service from '../request/service';\r\n\r\nexport function vGetPersonalized() {\r\n  return service({\r\n    url: '/personalized',\r\n    method: 'get'\r\n  });\r\n}\r\n\r\nexport function vGetNewsong() {\r\n  return service({\r\n    url: '/personalized/newsong',\r\n    method: 'get'\r\n  });\r\n}\r\n\r\nexport function vGetBanner() {\r\n  return service({\r\n    url: '/banner',\r\n    method: 'get'\r\n  });\r\n}\r\n\r\nexport function recommentSongs(id) {\r\n  return service({\r\n    url: `/playlist/detail?id=${id}`,\r\n    method: 'get'\r\n  });\r\n}\r\n\r\nexport function vGetDetail(id) {\r\n  return service({\r\n    url: `/song/detail?ids=${id}`,\r\n    method: 'get'\r\n  });\r\n}\r\n//https://platform.xuanyu.com.cn/promotions/seckill/time-line\r\n\r\n\r\n","import service from '../request/service'\r\n\r\nexport function vGetSinger () {\r\n  return service({\r\n    url: '/top/artists?limit=100',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function singerSongs (id) {\r\n  return service({\r\n    url: `artists?id=${id}`,\r\n    method: 'get'\r\n  })\r\n}\r\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5af72c32&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5af72c32&scoped=true&lang=less&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"inner_item\",on:{\"scroll\":_vm.scroll}},[_c('BaseBack',{attrs:{\"isFixed\":true,\"background\":(\"rgba(22, 154, 243, \" + _vm.percent + \")\")}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showText),expression:\"showText\"}],staticStyle:{\"color\":\"#fff\",\"fontSize\":\"14px\"}},[_vm._v(_vm._s(_vm.$route.query.name))])]),_c('DetailBackGround'),_c('DetailSongList',{attrs:{\"songs\":_vm.songs},on:{\"player\":_vm.player}}),_c('transition',{on:{\"before-enter\":_vm.beforeEnter,\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.musicIcon),expression:\"musicIcon\"}],staticClass:\"musicIcon\"},[_c('i',{staticClass:\"iconfont icon-yinle\"})])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import service from '../request/service';\r\n\r\nexport function rankSongs (id) {\r\n  return service({\r\n    url: `/top/list?idx=${id}`,\r\n    method: 'get'\r\n  });\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"singerPic\",staticClass:\"singerPic\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.$route.query.singerPic,\"alt\":\"\"}}),_c('h1',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(_vm.$route.query.name))]),_c('div',{staticClass:\"mask\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let touchstart, touchmove, touchend, parentNode;\r\n/*eslint-disable */\r\nexport default {\r\n  inserted(el) {\r\n    const imgEl = el.children[0];\r\n    const imgHeight = el.clientHeight; \r\n    parentNode = el.parentNode; \r\n    let startY;\r\n    const easeOutCubic = (t, b, c, d) => c * ((t = t / d - 1) * t * t + 1) + b;\r\n\r\n    touchstart = e => {\r\n      const y = e.targetTouches[0].clientY;\r\n      if (y < imgHeight) {\r\n        return;\r\n      }\r\n      startY = y;\r\n      el.classList.remove('rebound');\r\n      imgEl.classList.remove('rebound');\r\n    };\r\n\r\n    touchmove = e => {\r\n      if (!startY) {\r\n        return;\r\n      }\r\n      const y = e.targetTouches[0].clientY;\r\n      const moveDis = y - startY;\r\n      if (window.scrollY <= 0 && moveDis > 0) {\r\n        const height = easeOutCubic(moveDis, imgHeight, 100, 300);\r\n        el.style.height = height + 'px';\r\n        const scale = easeOutCubic(moveDis, 1, 0.2, 300);\r\n        imgEl.style.transform = `translate(0%, 0%) scale(${scale})`;\r\n      }\r\n    };\r\n\r\n    touchend = () => {\r\n      startY = null;\r\n      el.style.height = imgHeight + 'px';\r\n      imgEl.style.transform = 'translate(0%, 0%)';\r\n      el.classList.add('rebound');\r\n      imgEl.classList.add('rebound');\r\n    };\r\n\r\n    removeEventListener('addEventListener');\r\n  },\r\n  unbind() {\r\n    removeEventListener('removeEventListener');\r\n  }\r\n};\r\nfunction removeEventListener(name) {\r\n  parentNode[name]('touchstart', touchstart);\r\n  parentNode[name]('touchmove', touchmove);\r\n  parentNode[name]('touchend', touchend);\r\n}\r\n","<template>\r\n  <div class=\"singerPic\" ref=\"singerPic\">\r\n    <img :src=\"$route.query.singerPic\" alt=\"\" class=\"img\" />\r\n    <h1 class=\"ellipsis\">{{ $route.query.name }}</h1>\r\n    <div class=\"mask\"></div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport pull from '@/directives/pull.js';\r\nexport default {\r\n  name: 'DetailBackGround',\r\n  directives: {\r\n    pull,\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.singerPic {\r\n  height: 250px;\r\n  overflow: hidden;\r\n  background-position: center -50px;\r\n  background-repeat: no-repeat;\r\n  background-size: 100% 400px;\r\n  position: relative;\r\n  color: #fff;\r\n  .mask {\r\n    top: 0;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.1);\r\n  }\r\n  h1,\r\n  p {\r\n    position: absolute;\r\n    left: 15px;\r\n  }\r\n  h1 {\r\n    bottom: 35px15px;\r\n    width: 80%;\r\n    font-weight: 500;\r\n    font-size: 24px;\r\n  }\r\n  p {\r\n    bottom: 22px15px;\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailBackGround.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailBackGround.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailBackGround.vue?vue&type=template&id=eb859f1a&scoped=true&\"\nimport script from \"./DetailBackGround.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailBackGround.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailBackGround.vue?vue&type=style&index=0&id=eb859f1a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eb859f1a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"songList\"},[_c('ul',_vm._l((_vm.songs),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$emit('player', index, $event.currentTarget)}}},[(item.id === _vm.currrenSong.id)?[_c('div',{staticClass:\"inner\"},[_c('div',{staticClass:\"img fl\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"name ellipsis\"},[_c('span',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(\"--\")]),_c('span',[_vm._v(_vm._s(item.singer))])])])]:[_c('div',{staticClass:\"out\"},[_c('div',{staticClass:\"desc ellipsis\",class:{ first: index === 0 }},[_c('p',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.singer))])]),_c('div',{staticClass:\"album\"},[_vm._v(_vm._s(index + 1))])])]],2)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"songList\"\r\n  >\r\n    <ul>\r\n      <li\r\n        @click.stop.prevent=\"$emit('player', index, $event.currentTarget)\"\r\n        v-for=\"(item, index) in songs\"\r\n        :key=\"index\"\r\n      >\r\n        <template v-if=\"item.id === currrenSong.id\">\r\n          <div class=\"inner\">\r\n            <div class=\"img fl\">\r\n              <img v-lazy=\"item.picUrl\" alt />\r\n            </div>\r\n            <div class=\"name ellipsis\">\r\n              <span>{{ item.name }}</span>\r\n              <span>--</span>\r\n              <span>{{ item.singer }}</span>\r\n            </div>\r\n          </div>\r\n        </template>\r\n\r\n        <template v-else>\r\n          <div class=\"out\">\r\n            <div class=\"desc ellipsis\" :class=\"{ first: index === 0 }\">\r\n              <p class=\"ellipsis\">{{ item.name }}</p>\r\n              <span>{{ item.singer }}</span>\r\n            </div>\r\n            <div class=\"album\">{{ index + 1 }}</div>\r\n          </div>\r\n        </template>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from 'vuex';\r\nexport default {\r\n  name: 'DetailSongList',\r\n  props: {\r\n    songs: Array\r\n  },\r\n  computed: {\r\n    ...mapGetters(['currrenSong', 'fullScreen', 'playList'])\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"less\">\r\n.scroller {\r\n  height: 100%;\r\n}\r\n\r\n.songList {\r\n  border-radius: 5px;\r\n  background: #fff;\r\n \r\n  ul {\r\n    li {\r\n      font-size: 0;\r\n      padding-left: 60px;\r\n      position: relative;\r\n      height: 55px;\r\n      .inner {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-color: #f2f3f4;\r\n        font-size: 16px;\r\n        .img {\r\n          height: 100%;\r\n          img {\r\n            height: 100%;\r\n            width: 60px;\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n        .name {\r\n          height: 55px;\r\n          line-height: 55px;\r\n          padding-left: 10px;\r\n          padding-right: 50px;\r\n          span {\r\n            // vertical-align: middle;\r\n            font-size: 14px;\r\n          }\r\n        }\r\n      }\r\n      .desc {\r\n        border-top: 1px solid #e4e4e4;\r\n        padding: 7px 0;\r\n\r\n        &.first {\r\n          border-top: none;\r\n        }\r\n        p {\r\n          font-size: 14px;\r\n          color: #2e3030;\r\n          padding-right: 50px;\r\n          margin-bottom: 5px;\r\n        }\r\n        span {\r\n          font-size: 12px;\r\n          color: #757575;\r\n        }\r\n      }\r\n      .album {\r\n        position: absolute;\r\n        width: 60px;\r\n        height: 55px;\r\n        line-height: 55px;\r\n        text-align: center;\r\n        top: 0;\r\n        left: 0;\r\n        font-size: 16px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailSongList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailSongList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailSongList.vue?vue&type=template&id=533d3156&scoped=true&\"\nimport script from \"./DetailSongList.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailSongList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailSongList.vue?vue&type=style&index=0&id=533d3156&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"533d3156\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"detail-container\">\r\n    <div class=\"inner_item\" @scroll=\"scroll\">\r\n      <BaseBack :isFixed=\"true\" :background=\"`rgba(22, 154, 243, ${percent})`\">\r\n        <span style=\"color:#fff;fontSize:14px\" v-show=\"showText\">{{\r\n          $route.query.name\r\n        }}</span>\r\n      </BaseBack>\r\n      <DetailBackGround />\r\n      <DetailSongList :songs=\"songs\" @player=\"player\" />\r\n      <transition\r\n        @before-enter=\"beforeEnter\"\r\n        @enter=\"enter\"\r\n        @after-enter=\"afterEnter\"\r\n      >\r\n        <div class=\"musicIcon\" v-show=\"musicIcon\">\r\n          <i class=\"iconfont icon-yinle\"></i>\r\n        </div>\r\n      </transition>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n/*eslint-disable */\r\nimport { mapMutations, mapGetters } from 'vuex';\r\nimport { recommentSongs } from '@/api/recomment';\r\nimport { singerSongs } from '@/api/singer';\r\nimport { rankSongs } from '@/api/rank';\r\nimport DetailBackGround from '@/components/Detail/DetailBackGround';\r\nimport DetailSongList from '@/components/Detail/DetailSongList';\r\nexport default {\r\n  name: 'Detail',\r\n  components: { DetailSongList, DetailBackGround },\r\n  data() {\r\n    return {\r\n      songs: [],\r\n      playCount: 0,\r\n      showText: false,\r\n      percent: 0,\r\n      scrollTop: 0,\r\n      musicIcon: false,\r\n      dom: null,\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapGetters([\r\n      'playList',\r\n      'currrenSong',\r\n      'fullScreen',\r\n      'singer',\r\n      'currrentIndex',\r\n    ]),\r\n  },\r\n  created() {\r\n    const { query, params } = this.$route;\r\n    this[query.componentName](params.id);\r\n  },\r\n  methods: {\r\n    async RankDetail(id) {\r\n      const {\r\n        code,\r\n        playlist: { playCount, tracks },\r\n      } = await rankSongs(id);\r\n      if (code === 200) this.getSongs(tracks);\r\n    },\r\n    async RecommendDetail(id) {\r\n      const {\r\n        code,\r\n        playlist: { playCount, tracks },\r\n      } = await recommentSongs(id);\r\n      if (code === 200) this.getSongs(tracks, playCount);\r\n    },\r\n    async SingerDetail(id) {\r\n      const { code, hotSongs } = await singerSongs(id);\r\n      if (code === 200) this.getSongs(hotSongs);\r\n    },\r\n\r\n    getSongs(list, count = 0) {\r\n      let songs = [];\r\n      list.forEach((ele) => {\r\n        const song = {\r\n          id: ele.id,\r\n          name: ele.name,\r\n          singer: ele.ar[0].name,\r\n          picUrl: ele.al.picUrl,\r\n        };\r\n        this.playCount = count;\r\n        songs.push(song);\r\n      });\r\n\r\n      this.songs = Object.freeze(songs);\r\n    },\r\n\r\n    beforeEnter(el) {\r\n      let rect = this.dom.getBoundingClientRect();\r\n      let y = -(window.innerHeight - rect.y - rect.height / 2 - 50);\r\n      let x = -150;\r\n      el.style.transform = `translate3d(${x}px, ${y}px,0)`;\r\n    },\r\n    enter(el, done) {\r\n      el.offsetWidth;\r\n      el.style.transform = 'translate3d(0, 0,0)';\r\n      el.style.transition = 'all .6s cubic-bezier(0.49, -0.29, 0.75, 0.41)';\r\n      done();\r\n    },\r\n    afterEnter() {\r\n      this.musicIcon = false;\r\n    },\r\n    scroll(e) {\r\n      this.percent = Math.min(e.target.scrollTop / 400, 1);\r\n      this.scrollTop = e.target.scrollTop;\r\n      if (e.target.scrollTop > 400) {\r\n        this.showText = true;\r\n      } else {\r\n        this.showText = false;\r\n      }\r\n    },\r\n    player(index, ele) {\r\n      this.musicIcon = true;\r\n      this.dom = ele;\r\n      if (!Object.is(this.songs, this.playList)) {\r\n        this.setPlay(this.songs);\r\n        this.setSequenceList(this.songs);\r\n      }\r\n      this.setCurrrentIndex(index);\r\n      // this.setFullScreen(true)\r\n    },\r\n    ...mapMutations([\r\n      'setCurrrentIndex',\r\n      'setPlay',\r\n      'setFullScreen',\r\n      'setSequenceList',\r\n    ]),\r\n  },\r\n};\r\n</script>\r\n<style scoped lang=\"less\">\r\n@base: 37.5rem;\r\n.inner_item {\r\n  width: 100%;\r\n  height: 100vh;\r\n  overflow-y: scroll;\r\n  overflow-x: hidden;\r\n  .top {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    height: 50px;\r\n    width: 100%;\r\n    z-index: 1;\r\n    .top_title {\r\n      position: absolute;\r\n      top: 50%;\r\n      transform: translate3d(0, -50%, 0);\r\n      left: 46px;\r\n      font-size: 14px;\r\n      color: #fff;\r\n    }\r\n  }\r\n  // .singerPic {\r\n  //   height: 250px;\r\n  //   overflow: hidden;\r\n  //   background-position: center -50px;\r\n  //   background-repeat: no-repeat;\r\n  //   background-size: 100% 400px;\r\n  //   position: relative;\r\n  //   color: #fff;\r\n  //   .mask {\r\n  //     position: absolute;\r\n  //     width: 100%;\r\n  //     height: 100%;\r\n  //     background: rgba(0, 0, 0, 0.1);\r\n  //   }\r\n  //   h1,\r\n  //   p {\r\n  //     position: absolute;\r\n  //     left: 15px;\r\n  //   }\r\n  //   h1 {\r\n  //     bottom: 35px;\r\n  //     width: 80%;\r\n  //     font-weight: 500;\r\n  //     font-size: 24px;\r\n  //   }\r\n  //   p {\r\n  //     bottom: 22px;\r\n  //     font-size: 14px;\r\n  //   }\r\n  // }\r\n}\r\n.musicIcon {\r\n  position: fixed;\r\n  bottom: 50px;\r\n  transform: translate3d(-50%, 0, 0);\r\n  left: 50%;\r\n  z-index: 9999;\r\n\r\n  i {\r\n    // font-size: 24px;\r\n    color: #169af3;\r\n  }\r\n}\r\n.out {\r\n  border-radius: 5px;\r\n  position: relative;\r\n  top: -8px;\r\n  background: #fff;\r\n}\r\n\r\n.img {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  width: 100%;\r\n}\r\n</style>\r\n>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5af72c32&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5af72c32&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5af72c32\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailBackGround.vue?vue&type=style&index=0&id=eb859f1a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailBackGround.vue?vue&type=style&index=0&id=eb859f1a&lang=less&scoped=true&\""],"sourceRoot":""}