{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/core-js/modules/es.object.is.js","webpack:///./src/views/details/index.vue?e740","webpack:///./src/api/recomment.js","webpack:///./src/api/singer.js","webpack:///./src/components/Detail/DetailSongList.vue?42f5","webpack:///./src/components/Detail/DetailBackGround.vue?0d8c","webpack:///./src/views/details/index.vue?8475","webpack:///./src/api/rank.js","webpack:///./src/components/Detail/DetailBackGround.vue?7a88","webpack:///./src/directives/pull.js","webpack:///src/components/Detail/DetailBackGround.vue","webpack:///./src/components/Detail/DetailBackGround.vue?ce09","webpack:///./src/components/Detail/DetailBackGround.vue","webpack:///./src/components/Detail/DetailSongList.vue?e936","webpack:///src/components/Detail/DetailSongList.vue","webpack:///./src/components/Detail/DetailSongList.vue?a198","webpack:///./src/components/Detail/DetailSongList.vue","webpack:///src/views/details/index.vue","webpack:///./src/views/details/index.vue?12d4","webpack:///./src/views/details/index.vue"],"names":["module","exports","Object","is","x","y","$","target","stat","vGetPersonalized","service","url","method","vGetNewsong","vGetBanner","recommentSongs","id","vGetDetail","vGetSinger","singerSongs","render","_vm","this","_h","$createElement","_c","_self","staticClass","on","scroll","attrs","percent","directives","name","rawName","value","expression","staticStyle","_v","_s","$route","query","songs","player","beforeEnter","enter","afterEnter","staticRenderFns","rankSongs","touchstart","touchmove","touchend","parentNode","ref","singerPic","inserted","el","startY","imgEl","children","imgHeight","clientHeight","easeOutCubic","t","b","c","d","e","targetTouches","clientY","classList","remove","moveDis","window","scrollY","height","style","scale","transform","add","removeEventListener","unbind","pull","component","_l","item","index","key","$event","stopPropagation","preventDefault","$emit","currentTarget","currrenSong","singer","class","first","props","Array","computed","components","data","playCount","showText","scrollTop","musicIcon","dom","created","componentName","params","methods","getSongs","list","forEach","ele","ar","picUrl","al","push","song","freeze","offsetWidth","transition","done","Math","min","playList","setPlay","setSequenceList","setCurrrentIndex"],"mappings":"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","file":"js/detail.95e12312.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.github.io/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=01e6d57f&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=01e6d57f&scoped=true&lang=less&\"","import service from '../request/service';\n\nexport function vGetPersonalized() {\n  return service({\n    url: '/personalized',\n    method: 'get'\n  });\n}\n\nexport function vGetNewsong() {\n  return service({\n    url: '/personalized/newsong',\n    method: 'get'\n  });\n}\n\nexport function vGetBanner() {\n  return service({\n    url: '/banner',\n    method: 'get'\n  });\n}\n\nexport function recommentSongs(id) {\n  return service({\n    url: `/playlist/detail?id=${id}`,\n    method: 'get'\n  });\n}\n\nexport function vGetDetail(id) {\n  return service({\n    url: `/song/detail?ids=${id}`,\n    method: 'get'\n  });\n}\n//https://platform.xuanyu.com.cn/promotions/seckill/time-line\n\n\n","import service from '../request/service'\n\nexport function vGetSinger () {\n  return service({\n    url: '/top/artists?limit=100',\n    method: 'get'\n  })\n}\n\nexport function singerSongs (id) {\n  return service({\n    url: `artists?id=${id}`,\n    method: 'get'\n  })\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailSongList.vue?vue&type=style&index=0&id=ba819cda&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailSongList.vue?vue&type=style&index=0&id=ba819cda&scoped=true&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailBackGround.vue?vue&type=style&index=0&id=09f7717a&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailBackGround.vue?vue&type=style&index=0&id=09f7717a&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"detail-container\"},[_c('div',{staticClass:\"inner_item\",on:{\"scroll\":_vm.scroll}},[_c('BaseBack',{attrs:{\"isFixed\":true,\"background\":(\"rgba(22, 154, 243, \" + _vm.percent + \")\")}},[_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showText),expression:\"showText\"}],staticStyle:{\"color\":\"#fff\",\"fontSize\":\"14px\"}},[_vm._v(_vm._s(_vm.$route.query.name))])]),_c('DetailBackGround'),_c('DetailSongList',{attrs:{\"songs\":_vm.songs},on:{\"player\":_vm.player}}),_c('transition',{on:{\"before-enter\":_vm.beforeEnter,\"enter\":_vm.enter,\"after-enter\":_vm.afterEnter}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.musicIcon),expression:\"musicIcon\"}],staticClass:\"musicIcon\"},[_c('i',{staticClass:\"iconfont icon-yinle\"})])])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import service from '../request/service';\n\nexport function rankSongs (id) {\n  return service({\n    url: `/top/list?idx=${id}`,\n    method: 'get'\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"pull\",rawName:\"v-pull\"}],ref:\"singerPic\",staticClass:\"singerPic\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.$route.query.singerPic,\"alt\":\"\"}}),_c('h1',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(_vm.$route.query.name))]),_c('div',{staticClass:\"mask\"})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","let touchstart, touchmove, touchend, parentNode;\n/*eslint-disable */\nexport default {\n  inserted(el) {\n    const imgEl = el.children[0];\n    const imgHeight = el.clientHeight; \n    parentNode = el.parentNode; \n    let startY;\n    const easeOutCubic = (t, b, c, d) => c * ((t = t / d - 1) * t * t + 1) + b;\n\n    touchstart = e => {\n      const y = e.targetTouches[0].clientY;\n      if (y < imgHeight) {\n        return;\n      }\n      startY = y;\n      el.classList.remove('rebound');\n      imgEl.classList.remove('rebound');\n    };\n\n    touchmove = e => {\n      if (!startY) {\n        return;\n      }\n      const y = e.targetTouches[0].clientY;\n      const moveDis = y - startY;\n      if (window.scrollY <= 0 && moveDis > 0) {\n        const height = easeOutCubic(moveDis, imgHeight, 100, 300);\n        el.style.height = height + 'px';\n        const scale = easeOutCubic(moveDis, 1, 0.2, 300);\n        imgEl.style.transform = `translate(0%, 0%) scale(${scale})`;\n      }\n    };\n\n    touchend = () => {\n      startY = null;\n      el.style.height = imgHeight + 'px';\n      imgEl.style.transform = 'translate(0%, 0%)';\n      el.classList.add('rebound');\n      imgEl.classList.add('rebound');\n    };\n\n    removeEventListener('addEventListener');\n  },\n  unbind() {\n    removeEventListener('removeEventListener');\n  }\n};\nfunction removeEventListener(name) {\n  parentNode[name]('touchstart', touchstart);\n  parentNode[name]('touchmove', touchmove);\n  parentNode[name]('touchend', touchend);\n}\n","<template>\n  <div class=\"singerPic\" ref=\"singerPic\" v-pull>\n    <img :src=\"$route.query.singerPic\" alt=\"\" class=\"img\" />\n    <h1 class=\"ellipsis\">{{ $route.query.name }}</h1>\n    <div class=\"mask\"></div>\n  </div>\n</template>\n<script>\nimport pull from '@/directives/pull.js';\nexport default {\n  name: 'DetailBackGround',\n  directives: {\n    pull,\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n@base: 37.5rem;\n.singerPic {\n  height: 250px;\n  overflow: hidden;\n  background-position: center -50px;\n  background-repeat: no-repeat;\n  background-size: 100% 400px;\n  position: relative;\n  color: #fff;\n  .mask {\n    top: 0;\n    position: absolute;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0.1);\n  }\n  h1,\n  p {\n    position: absolute;\n    left: 15 / @base;\n  }\n  h1 {\n    bottom: 35 / @base;\n    width: 80%;\n    font-weight: 500;\n    font-size: 24px;\n  }\n  p {\n    bottom: 22 / @base;\n    font-size: 14px;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailBackGround.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailBackGround.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailBackGround.vue?vue&type=template&id=09f7717a&scoped=true&\"\nimport script from \"./DetailBackGround.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailBackGround.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailBackGround.vue?vue&type=style&index=0&id=09f7717a&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09f7717a\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"songList\"},[_c('ul',_vm._l((_vm.songs),function(item,index){return _c('li',{key:index,on:{\"click\":function($event){$event.stopPropagation();$event.preventDefault();return _vm.$emit('player', index, $event.currentTarget)}}},[(item.id === _vm.currrenSong.id)?[_c('div',{staticClass:\"inner\"},[_c('div',{staticClass:\"img fl\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.picUrl),expression:\"item.picUrl\"}],attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"name ellipsis\"},[_c('span',[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(\"--\")]),_c('span',[_vm._v(_vm._s(item.singer))])])])]:[_c('div',{staticClass:\"out\"},[_c('div',{staticClass:\"desc ellipsis\",class:{ first: index === 0 }},[_c('p',{staticClass:\"ellipsis\"},[_vm._v(_vm._s(item.name))]),_c('span',[_vm._v(_vm._s(item.singer))])]),_c('div',{staticClass:\"album\"},[_vm._v(_vm._s(index + 1))])])]],2)}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div\n    class=\"songList\"\n  >\n    <ul>\n      <li\n        @click.stop.prevent=\"$emit('player', index, $event.currentTarget)\"\n        v-for=\"(item, index) in songs\"\n        :key=\"index\"\n      >\n        <template v-if=\"item.id === currrenSong.id\">\n          <div class=\"inner\">\n            <div class=\"img fl\">\n              <img v-lazy=\"item.picUrl\" alt />\n            </div>\n            <div class=\"name ellipsis\">\n              <span>{{ item.name }}</span>\n              <span>--</span>\n              <span>{{ item.singer }}</span>\n            </div>\n          </div>\n        </template>\n\n        <template v-else>\n          <div class=\"out\">\n            <div class=\"desc ellipsis\" :class=\"{ first: index === 0 }\">\n              <p class=\"ellipsis\">{{ item.name }}</p>\n              <span>{{ item.singer }}</span>\n            </div>\n            <div class=\"album\">{{ index + 1 }}</div>\n          </div>\n        </template>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nexport default {\n  name: 'DetailSongList',\n  props: {\n    songs: Array\n  },\n  computed: {\n    ...mapGetters(['currrenSong', 'fullScreen', 'playList'])\n  }\n};\n</script>\n<style scoped lang=\"less\">\n@base: 37.5rem;\n.scroller {\n  height: 100%;\n}\n\n.songList {\n  border-radius: 5 / @base;\n  background: #fff;\n \n  ul {\n    li {\n      font-size: 0;\n      padding-left: 60 / @base;\n      position: relative;\n      height: 55 / @base;\n      .inner {\n        position: absolute;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background-color: #f2f3f4;\n        font-size: 16px;\n        .img {\n          height: 100%;\n          img {\n            height: 100%;\n            width: 60 / @base;\n            vertical-align: middle;\n          }\n        }\n        .name {\n          height: 55 / @base;\n          line-height: 55 / @base;\n          padding-left: 10 / @base;\n          padding-right: 50 / @base;\n          span {\n            // vertical-align: middle;\n            font-size: 14px;\n          }\n        }\n      }\n      .desc {\n        border-top: 1 / @base solid #e4e4e4;\n        padding: 7 / @base 0;\n\n        &.first {\n          border-top: none;\n        }\n        p {\n          font-size: 14px;\n          color: #2e3030;\n          padding-right: 50 / @base;\n          margin-bottom: 5 / @base;\n        }\n        span {\n          font-size: 12px;\n          color: #757575;\n        }\n      }\n      .album {\n        position: absolute;\n        width: 60 / @base;\n        height: 55 / @base;\n        line-height: 55 / @base;\n        text-align: center;\n        top: 0;\n        left: 0;\n        font-size: 16px;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailSongList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DetailSongList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DetailSongList.vue?vue&type=template&id=ba819cda&scoped=true&\"\nimport script from \"./DetailSongList.vue?vue&type=script&lang=js&\"\nexport * from \"./DetailSongList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DetailSongList.vue?vue&type=style&index=0&id=ba819cda&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"ba819cda\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"detail-container\">\n    <div class=\"inner_item\" @scroll=\"scroll\">\n      <BaseBack :isFixed=\"true\" :background=\"`rgba(22, 154, 243, ${percent})`\">\n        <span style=\"color:#fff;fontSize:14px\" v-show=\"showText\">{{\n          $route.query.name\n        }}</span>\n      </BaseBack>\n      <DetailBackGround />\n      <DetailSongList :songs=\"songs\" @player=\"player\" />\n      <transition\n        @before-enter=\"beforeEnter\"\n        @enter=\"enter\"\n        @after-enter=\"afterEnter\"\n      >\n        <div class=\"musicIcon\" v-show=\"musicIcon\">\n          <i class=\"iconfont icon-yinle\"></i>\n        </div>\n      </transition>\n    </div>\n  </div>\n</template>\n<script>\n/*eslint-disable */\nimport { mapMutations, mapGetters } from 'vuex';\nimport { recommentSongs } from '@/api/recomment';\nimport { singerSongs } from '@/api/singer';\nimport { rankSongs } from '@/api/rank';\nimport DetailBackGround from '@/components/Detail/DetailBackGround';\nimport DetailSongList from '@/components/Detail/DetailSongList';\nexport default {\n  name: 'Detail',\n  components: { DetailSongList, DetailBackGround },\n  data() {\n    return {\n      songs: [],\n      playCount: 0,\n      showText: false,\n      percent: 0,\n      scrollTop: 0,\n      musicIcon: false,\n      dom: null,\n    };\n  },\n  computed: {\n    ...mapGetters([\n      'playList',\n      'currrenSong',\n      'fullScreen',\n      'singer',\n      'currrentIndex',\n    ]),\n  },\n  created() {\n    const { query, params } = this.$route;\n    this[query.componentName](params.id);\n  },\n  methods: {\n    async RankDetail(id) {\n      const {\n        code,\n        playlist: { playCount, tracks },\n      } = await rankSongs(id);\n      if (code === 200) this.getSongs(tracks);\n    },\n    async RecommendDetail(id) {\n      const {\n        code,\n        playlist: { playCount, tracks },\n      } = await recommentSongs(id);\n      if (code === 200) this.getSongs(tracks, playCount);\n    },\n    async SingerDetail(id) {\n      const { code, hotSongs } = await singerSongs(id);\n      if (code === 200) this.getSongs(hotSongs);\n    },\n\n    getSongs(list, count = 0) {\n      let songs = [];\n      list.forEach((ele) => {\n        const song = {\n          id: ele.id,\n          name: ele.name,\n          singer: ele.ar[0].name,\n          picUrl: ele.al.picUrl,\n        };\n        this.playCount = count;\n        songs.push(song);\n      });\n\n      this.songs = Object.freeze(songs);\n    },\n\n    beforeEnter(el) {\n      let rect = this.dom.getBoundingClientRect();\n      let y = -(window.innerHeight - rect.y - rect.height / 2 - 50);\n      let x = -150;\n      el.style.transform = `translate3d(${x}px, ${y}px,0)`;\n    },\n    enter(el, done) {\n      el.offsetWidth;\n      el.style.transform = 'translate3d(0, 0,0)';\n      el.style.transition = 'all .6s cubic-bezier(0.49, -0.29, 0.75, 0.41)';\n      done();\n    },\n    afterEnter() {\n      this.musicIcon = false;\n    },\n    scroll(e) {\n      this.percent = Math.min(e.target.scrollTop / 400, 1);\n      this.scrollTop = e.target.scrollTop;\n      if (e.target.scrollTop > 400) {\n        this.showText = true;\n      } else {\n        this.showText = false;\n      }\n    },\n    player(index, ele) {\n      this.musicIcon = true;\n      this.dom = ele;\n      if (!Object.is(this.songs, this.playList)) {\n        this.setPlay(this.songs);\n        this.setSequenceList(this.songs);\n      }\n      this.setCurrrentIndex(index);\n      // this.setFullScreen(true)\n    },\n    ...mapMutations([\n      'setCurrrentIndex',\n      'setPlay',\n      'setFullScreen',\n      'setSequenceList',\n    ]),\n  },\n};\n</script>\n<style scoped lang=\"less\">\n@base: 37.5rem;\n.inner_item {\n  width: 100%;\n  height: 100vh;\n  overflow-y: scroll;\n  overflow-x: hidden;\n  .top {\n    position: fixed;\n    top: 0;\n    left: 0;\n    height: 50 / @base;\n    width: 100%;\n    z-index: 1;\n    .top_title {\n      position: absolute;\n      top: 50%;\n      transform: translate3d(0, -50%, 0);\n      left: 46 / @base;\n      font-size: 14px;\n      color: #fff;\n    }\n  }\n  // .singerPic {\n  //   height: 250px;\n  //   overflow: hidden;\n  //   background-position: center -50px;\n  //   background-repeat: no-repeat;\n  //   background-size: 100% 400px;\n  //   position: relative;\n  //   color: #fff;\n  //   .mask {\n  //     position: absolute;\n  //     width: 100%;\n  //     height: 100%;\n  //     background: rgba(0, 0, 0, 0.1);\n  //   }\n  //   h1,\n  //   p {\n  //     position: absolute;\n  //     left: 15 / @base;\n  //   }\n  //   h1 {\n  //     bottom: 35 / @base;\n  //     width: 80%;\n  //     font-weight: 500;\n  //     font-size: 24px;\n  //   }\n  //   p {\n  //     bottom: 22 / @base;\n  //     font-size: 14px;\n  //   }\n  // }\n}\n.musicIcon {\n  position: fixed;\n  bottom: 50 / @base;\n  transform: translate3d(-50%, 0, 0);\n  left: 50%;\n  z-index: 9999;\n\n  i {\n    // font-size: 24px;\n    color: #169af3;\n  }\n}\n.out {\n  border-radius: 5px;\n  position: relative;\n  top: -8px;\n  background: #fff;\n}\n\n.img {\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  width: 100%;\n}\n</style>\n>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=01e6d57f&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=01e6d57f&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01e6d57f\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}