(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["rank"],{"0b7a":function(t,n,e){"use strict";var i=e("b274"),a=e.n(i);a.a},"0f0d":function(t,n,e){},"16c0":function(t,n,e){"use strict";var i=e("be4a"),a=e.n(i);a.a},2824:function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"singer-container"},[e("BaseBack",{attrs:{title:"歌手榜"}}),e("BaseTabs",{ref:"tabs",attrs:{navList:t.navList,active:t.active},on:{tabs:t.handleScroll,change:t.handleChange}}),e("main",{staticClass:"singer-main"},[t.navList.length>0?e("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},t._l(t.navList,(function(t){return e("swiper-slide",{key:t.id,attrs:{"data-id":t.targetId}},[e("SingerList",{ref:"singer",refInFor:!0})],1)})),1):t._e()],1)],1)},a=[],s=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("ul",{staticClass:"singer-main-wrap"},t._l(t.singerList,(function(n,i){return e("li",{key:i,staticClass:"singer-main-item",on:{click:function(e){return e.stopPropagation(),t.getSingerDetail(n)}}},[e("div",{staticClass:"singer-main-index"},[e("span",{staticClass:"singer-main-nownum",class:{"singer-main-top3":i<=2}},[t._v(t._s(t._f("formatIndex")(i+1)))]),e("span",{staticClass:"singer-main-rank"},[e("span",{staticClass:"iconfont",class:t._f("formatRank")(n.lastRank-i)}),e("span",{staticClass:"singer-main-num"},[t._v(" "+t._s(n.lastRank-i==0?"":Math.abs(n.lastRank-i)))])])]),e("div",{staticClass:"singer-main-avatar"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.img1v1Url,expression:"item.img1v1Url"}],staticClass:"singer-main-img",attrs:{alt:""}})]),e("div",{staticClass:"singer-main-name"},[e("span",{staticClass:"singer-main-singer"},[t._v(t._s(n.name))]),e("span",{staticClass:"singer-main-score"},[e("span",{staticClass:"iconfont icon-redu"}),e("span",[t._v(" "+t._s(n.score))])])])])})),0)},r=[],c=(e("b0c0"),e("dca8"),e("4d90"),e("96cf"),e("1da1")),o=e("5530"),l=e("7f5c"),u=e("2f62"),m={name:"SingerList",data:function(){return{singerList:[]}},filters:{formatIndex:function(t){return(t+"").padStart(2,"0")},formatRank:function(t){return t>0?["icon-jiantou","rankRose"]:t<0?["icon-jiantou","rankLose"]:0==t?["icon-line","rankEqual"]:void 0}},computed:Object(o["a"])({},Object(u["c"])(["singer"])),methods:Object(o["a"])({getSingers:function(t){var n=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var i,a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["g"])(t);case 2:i=e.sent,a=i.code,s=i.list.artists,200===a&&(n.singerList=Object.freeze(s));case 6:case"end":return e.stop()}}),e)})))()},getSingerDetail:function(t){var n={id:t.id,singerPic:t.picUrl,name:t.name};this.setSinger(n),this.$router.push("/singer/".concat(t.id))}},Object(u["d"])(["setSinger"]))},d=m,f=(e("0b7a"),e("2877")),g=Object(f["a"])(d,s,r,!1,null,"55510278",null),v=g.exports,p={name:"Singer",components:{SingerList:v},data:function(){var t=this;return{active:0,navList:[{id:1,name:"华语"},{id:2,name:"欧美"},{id:3,name:"韩国"},{id:4,name:"日本"}],swiperOptions:{on:{slideChange:function(){t.active=t.swiper.activeIndex}},loop:!1,watchSlidesVisibility:!0}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){this.singers=this.$refs.singer,this.singers[0].getSingers(1),this.$refs.tabs.init()},methods:{handleChange:function(t){var n=this.navList[t]["id"];this.singers[t].getSingers(n)},handleScroll:function(t){this.active!=t&&this.swiper.slideTo(t,0,!1)}}},h=p,k=(e("971a"),Object(f["a"])(h,i,a,!1,null,"2ae46301",null));n["default"]=k.exports},"389a":function(t,n,e){"use strict";e.r(n);var i=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"rank"},[e("BaseBack",{attrs:{title:"排行榜"}}),e("div",{staticClass:"rank-wrap"},[t._m(0),e("ul",{staticClass:"rank-items"},t._l(t.rank,(function(n,i){return e("router-link",{key:i,staticClass:"rank-item",attrs:{to:"/playlist/"+n.id,tag:"li"},on:{click:function(e){return t.getRankSongs(n)}}},[e("div",{staticClass:"rank-item-right"},t._l(n.tracks,(function(n,i){return e("p",{key:n.first,staticClass:"rank-item-track"},[e("b",[t._v(t._s(i+1)+". ")]),t._v(" "+t._s(n.first)+" "),e("span",{staticClass:"rank-item-name"},[t._v(" - "+t._s(n.second))])])})),0),e("div",{staticClass:"rank-item-left"},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.coverImgUrl,expression:"item.coverImgUrl"}],staticClass:"rank-img",attrs:{alt:n.name}})])])})),1)]),e("div",{staticClass:"others-wrap"},t._l(t.others,(function(n){return e("div",{key:n.name,staticClass:"other-"},[e("div",{staticClass:"others-title"},[e("strong",[t._v(t._s(n.name))])]),e("div",{staticClass:"others-items"},t._l(n.list,(function(n){return e("router-link",{key:n.id,staticClass:"others-item ellipsis",attrs:{to:"/playlist/"+n.id},on:{click:function(e){return t.getRankSongs(n)}}},[e("img",{directives:[{name:"lazy",rawName:"v-lazy",value:n.coverImgUrl,expression:"item1.coverImgUrl"}],staticClass:"others-img",attrs:{alt:""}}),e("p",{staticClass:"others-name ellipsis"},[t._v(t._s(n.name))])])})),1)])})),0)],1)},a=[function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"rank-title"},[e("strong",[t._v("官方榜")])])}],s=(e("99af"),e("4de4"),e("c740"),e("a434"),e("b0c0"),e("96cf"),e("1da1")),r=e("5530"),c=e("2f62"),o=e("77a5"),l={name:"Rank",data:function(){return{rank:[],others:[]}},created:function(){this.rankTopList()},methods:Object(r["a"])({rankTopList:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var e,i,a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(o["b"])();case 2:e=n.sent,i=e.list,a=i.filter((function(t){return t.tracks&&t.tracks.length})),t.rank=a||[],s=i.findIndex((function(t){return t.tracks&&!t.tracks.length})),r=[],r.push({name:"曲风榜",list:i.splice(s,7)}),r.push({name:"全球榜",list:i.splice(s,9)}),r.push({name:"精选榜",list:i.splice(s,6)}),r.push({name:"特色榜",list:i.splice(s)}),t.others=r;case 13:case"end":return n.stop()}}),n)})))()},getRankSongs:function(t){console.log(),this.setSinger({name:t.name,id:t.id,singerPic:t.coverImgUrl}),this.$router.push("/details/".concat(t.id,"?singerPic=").concat(t.coverImgUrl,"&name=").concat(t.name,"&componentName=RankDetail"))}},Object(c["d"])(["setSinger"]))},u=l,m=(e("16c0"),e("2877")),d=Object(m["a"])(u,i,a,!1,null,"64f7ca9c",null);n["default"]=d.exports},"77a5":function(t,n,e){"use strict";e.d(n,"a",(function(){return a})),e.d(n,"b",(function(){return s}));var i=e("2b4c");function a(t){return Object(i["a"])({url:"playlist/detail?id=".concat(t),method:"get"})}function s(){return Object(i["a"])({url:"/toplist/detail",method:"get"})}},"7f5c":function(t,n,e){"use strict";e.d(n,"g",(function(){return a})),e.d(n,"c",(function(){return s})),e.d(n,"b",(function(){return r})),e.d(n,"f",(function(){return c})),e.d(n,"a",(function(){return o})),e.d(n,"e",(function(){return l})),e.d(n,"d",(function(){return u}));var i=e("2b4c");function a(t){return Object(i["a"])({url:"/toplist/artist?type=".concat(t),method:"get"})}function s(t){return Object(i["a"])({url:"/artist/detail?id=".concat(t),method:"get"})}function r(t){return Object(i["a"])({url:"/artist/desc?id=".concat(t),method:"get"})}function c(t){return Object(i["a"])({url:"/artist/songs?id=".concat(t),method:"get"})}function o(t){return Object(i["a"])({url:"/artist/album?id=".concat(t),method:"get"})}function l(t){return Object(i["a"])({url:"/simi/artist?id=".concat(t),method:"get"})}function u(t){return Object(i["a"])({url:"artist/mv?id=".concat(t),method:"get"})}},"971a":function(t,n,e){"use strict";var i=e("0f0d"),a=e.n(i);a.a},b274:function(t,n,e){},be4a:function(t,n,e){}}]);
//# sourceMappingURL=rank.ce92d1ce.js.map