{"version":3,"sources":["webpack:///./src/views/search/index.vue?0c10","webpack:///./src/components/Search/SearchResult.vue?197e","webpack:///./src/components/Search/SearchList.vue?390d","webpack:///./node_modules/core-js/internals/freezing.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/modules/es.object.freeze.js","webpack:///./src/views/search/index.vue?67e2","webpack:///./src/api/search.js","webpack:///./src/components/Search/SearchList.vue?2255","webpack:///src/components/Search/SearchList.vue","webpack:///./src/components/Search/SearchList.vue?3f7f","webpack:///./src/components/Search/SearchList.vue","webpack:///./src/components/Search/SearchResult.vue?332e","webpack:///src/components/Search/SearchResult.vue","webpack:///./src/components/Search/SearchResult.vue?1bc7","webpack:///./src/components/Search/SearchResult.vue","webpack:///src/views/search/index.vue","webpack:///./src/views/search/index.vue?2b70","webpack:///./src/views/search/index.vue","webpack:///./node_modules/core-js/internals/internal-metadata.js"],"names":["fails","module","exports","Object","isExtensible","preventExtensions","$","$indexOf","indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","target","proto","forced","searchElement","apply","this","arguments","length","undefined","FREEZING","isObject","onFreeze","nativeFreeze","freeze","FAILS_ON_PRIMITIVES","stat","sham","it","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","staticStyle","on","cancle","_v","proxy","directives","name","rawName","value","expression","domProps","$event","composing","searchData","hotLsit","data","historyList","del","searchList","noResult","play","ref","item","_s","highlight","singer","staticRenderFns","vSearch","service","url","method","vSearchHot","props","class","vertical","hotTitle","_e","listeners","_l","index","handleSearch","list","type","Array","default","visible","Boolean","String","component","_t","components","flag","computed","val","replace","reg","watch","debounce","created","getHotList","methods","clearTimeout","setTimeout","wait","$MessageBox","title","content","id","history","splice","pop","unshift","localStorage","setItem","JSON","stringify","setPlay","songs","setCurrrentIndex","setFullScreen","setHistoryList","hiddenKeys","has","defineProperty","f","uid","METADATA","setMetadata","objectID","weakData","fastKey","create","getWeakData","meta","REQUIRED"],"mappings":"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","file":"js/search.04e9c10f.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=e29fbc52&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=e29fbc52&scoped=true&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=style&index=0&id=eca0d6e6&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=style&index=0&id=eca0d6e6&scoped=true&lang=less&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchList.vue?vue&type=style&index=0&id=780e4775&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchList.vue?vue&type=style&index=0&id=780e4775&scoped=true&lang=less&\"","var fails = require('../internals/fails');\n\nmodule.exports = !fails(function () {\n  return Object.isExtensible(Object.preventExtensions({}));\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var $ = require('../internals/export');\nvar FREEZING = require('../internals/freezing');\nvar fails = require('../internals/fails');\nvar isObject = require('../internals/is-object');\nvar onFreeze = require('../internals/internal-metadata').onFreeze;\n\nvar nativeFreeze = Object.freeze;\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeFreeze(1); });\n\n// `Object.freeze` method\n// https://tc39.github.io/ecma262/#sec-object.freeze\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES, sham: !FREEZING }, {\n  freeze: function freeze(it) {\n    return nativeFreeze && isObject(it) ? nativeFreeze(onFreeze(it)) : it;\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_c('BaseBack',{attrs:{\"isFixed\":true,\"background\":'rgb(22, 154, 243'},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('span',{staticStyle:{\"font-size\":\"15px\"},on:{\"click\":_vm.cancle}},[_vm._v(\"取消\")])]},proxy:true}])},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.searchData),expression:\"searchData\"}],staticClass:\"search-input\",attrs:{\"type\":\"text\",\"placeholder\":\"热门\"},domProps:{\"value\":(_vm.searchData)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.searchData=$event.target.value}}})]),_c('div',{staticClass:\"item\"},[_c('SearchList',{key:\"hot\",attrs:{\"list\":_vm.hotLsit,\"hotTitle\":\"热门搜索\",\"visible\":!_vm.searchData,\"vertical\":true},on:{\"handleSearch\":function (data) { return (_vm.searchData = data); }}}),_c('SearchList',{key:\"history\",attrs:{\"visible\":!_vm.searchData,\"hotTitle\":\"历史记录\",\"list\":_vm.historyList,\"vertical\":false},on:{\"handleSearch\":function (data) { return (_vm.searchData = data); },\"del\":_vm.del}}),_c('SearchResult',{attrs:{\"list\":_vm.searchList,\"noResult\":_vm.noResult},on:{\"play\":_vm.play},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar item = ref.item;\nreturn [_c('div',{staticClass:\"name ellipsis\",domProps:{\"innerHTML\":_vm._s(_vm.highlight(item.name))}}),_c('div',{staticClass:\"singer ellipsis\",domProps:{\"innerHTML\":_vm._s(_vm.highlight(item.singer))}})]}}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import service from '../request/service'\n\nexport function vSearch (data) {\n  return service({\n    url: `/search?keywords=${data} `,\n    method: 'get'\n  })\n}\n\nexport function vSearchHot () {\n  return service({\n    url: `/search/hot `,\n    method: 'get'\n  })\n}\n","var render = function (_h,_vm) {var _c=_vm._c;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.props.visible),expression:\"props.visible\"}],class:_vm.props.vertical ? 'hot' : 'history'},[_c('p',{staticClass:\"search-name\"},[_vm._v(_vm._s(_vm.props.hotTitle))]),(!_vm.props.vertical)?_c('div',{staticClass:\"del\"},[_c('span',{staticClass:\"all search-icon\",on:{\"click\":function($event){return _vm.listeners.del()}}},[_vm._v(\"删除全部\")]),_c('span',{staticClass:\"iconfont icon-shanchu search-icon\"})]):_vm._e(),_c('ul',{staticClass:\"search-list\"},_vm._l((_vm.props.list),function(item,index){return _c('li',{key:index,staticClass:\"search-item\",on:{\"click\":function($event){return _vm.listeners.handleSearch(item)}}},[_vm._v(\" \"+_vm._s(item)+\" \")])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\n  <div :class=\"props.vertical ? 'hot' : 'history'\" v-show=\"props.visible\">\n    <p class=\"search-name\">{{ props.hotTitle }}</p>\n    <div class=\"del\" v-if=\"!props.vertical\">\n      <span class=\"all search-icon\" @click=\"listeners.del()\">删除全部</span>\n      <span class=\"iconfont icon-shanchu search-icon\"></span>\n    </div>\n    <ul class=\"search-list\">\n      <li\n        v-for=\"(item, index) in props.list\"\n        :key=\"index\"\n        @click=\"listeners.handleSearch(item)\"\n        class=\"search-item\"\n      >\n        {{ item }}\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'SearchList',\n  props: {\n    list: {\n      type: Array,\n      default: () => [],\n    },\n    visible: {\n      type: Boolean,\n      default: false,\n    },\n    vertical: {\n      type: Boolean,\n      default: false,\n    },\n    hotTitle: {\n      type: String,\n      default: '',\n    },\n  },\n};\n</script>\n<style scoped lang=\"less\">\n.commonCss() {\n  .search-name {\n    margin: 15px 0 10px 10px;\n    color: #000;\n    font-weight: 700;\n  }\n}\n.history {\n  padding: 0 30px;\n  font-size: 14px;\n  position: relative;\n  .del {\n    position: absolute;\n    right: 10px;\n    top: 0px;\n    color: #2e3030;\n\n    .search-icon {\n      vertical-align: middle;\n      font-size: 20px;\n    }\n    .all {\n      font-weight: 700;\n      font-size: 14px;\n    }\n  }\n  .search-list {\n    margin-left: 15px;\n    .search-item {\n      font-size: 14px;\n      color: #2e3030;\n      padding: 5px 0;\n    }\n  }\n  .commonCss();\n}\n\n.hot {\n  padding: 0 30px;\n  font-size: 14px;\n  .commonCss();\n  .search-list {\n    display: flex;\n    flex-wrap: wrap;\n    // font-size: 14px;\n    .search-item {\n      padding: 4px 10px;\n      background: #f2f3f4;\n      margin: 4px;\n      border-radius: 30px;\n      font-size: 12px;\n      color: #2e3030;\n    }\n  }\n}\n\n//  <div class=\"history\" v-show=\"!searchData\">\n//         <p>历史记录</p>\n//         <div class=\"del\" @click=\"del\">\n//           <span class=\"all\">删除全部</span>\n//           <span class=\"iconfont icon-shanchu\"></span>\n//         </div>\n//         <ul class=\"history-list\">\n//           <li\n//             v-for=\"(item, index) in historyList\"\n//             :key=\"index\"\n//             @click=\"searchHot(item)\"\n//             class=\"history-item\"\n//           >\n//             {{ item }}\n//           </li>\n//         </ul>\n//       </div>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchList.vue?vue&type=template&id=780e4775&scoped=true&functional=true&\"\nimport script from \"./SearchList.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchList.vue?vue&type=style&index=0&id=780e4775&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"780e4775\",\n  null\n  \n)\n\nexport default component.exports","var render = function (_h,_vm) {var _c=_vm._c;return _c('div',{staticClass:\"result\"},[_c('ul',{staticClass:\"result-list\"},_vm._l((_vm.props.list),function(item,index){return _c('li',{key:index,staticClass:\"result-item\",on:{\"click\":function($event){return _vm.listeners.play(item, index)}}},[_vm._t(\"default\",null,{\"item\":item})],2)}),0),(_vm.props.noResult)?_c('p',{staticStyle:{\"color\":\"red\",\"textAlign\":\"center\",\"marginTop\":\"0.4rem\"}},[_vm._v(\"暂无结果\")]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template functional>\n  <div class=\"result\">\n  \n    <ul class=\"result-list\">\n      <li\n        v-for=\"(item, index) in props.list\"\n        :key=\"index\"\n        @click=\"listeners.play(item, index)\"\n        class=\"result-item\"\n      >\n        <slot :item=\"item\" />\n      </li>\n    </ul>\n      <p v-if=\"props.noResult\" style=\"color: red; textAlign:center; marginTop: 0.4rem\">暂无结果</p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Result'\n};\n</script>\n<style scoped lang=\"less\">\n.result {\n  .result-list {\n    padding: 0 30px;\n\n    .result-item {\n      color: #2e3030;\n      font-size: 12px;\n      padding-top: 5px;\n      height: 50px;\n      border-bottom: 1px solid #e4e4e4;\n      /deep/ .red {\n        color: #169af3;\n      }\n      .name {\n        font-size: 14px;\n      }\n    }\n  }\n}\n//   <div class=\"result\">\n//         <ul class=\"result-list\">\n//           <li\n//             v-for=\"(item, index) in searchList\"\n//             :key=\"index\"\n//             @click=\"play(item, index)\"\n//             class=\"result-item\"\n//           >\n//             <div class=\"name\" v-html=\"highlight(item.name)\"></div>\n//             <div class=\"singer\" v-html=\"highlight(item.singer)\"></div>\n//           </li>\n//         </ul>\n//       </div>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchResult.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SearchResult.vue?vue&type=template&id=eca0d6e6&scoped=true&functional=true&\"\nimport script from \"./SearchResult.vue?vue&type=script&lang=js&\"\nexport * from \"./SearchResult.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SearchResult.vue?vue&type=style&index=0&id=eca0d6e6&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  true,\n  null,\n  \"eca0d6e6\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"search\">\n    <BaseBack :isFixed=\"true\" :background=\"'rgb(22, 154, 243'\">\n      <input\n        type=\"text\"\n        v-model=\"searchData\"\n        placeholder=\"热门\"\n        class=\"search-input\"\n      />\n\n      <template #right>\n        <span @click=\"cancle\" style=\"font-size:15px\">取消</span>\n      </template>\n    </BaseBack>\n\n    <div class=\"item\">\n      <SearchList\n        :list=\"hotLsit\"\n        hotTitle=\"热门搜索\"\n        @handleSearch=\"(data) => (searchData = data)\"\n        :visible=\"!searchData\"\n        :vertical=\"true\"\n        key=\"hot\"\n      />\n\n      <SearchList\n        :visible=\"!searchData\"\n        hotTitle=\"历史记录\"\n        :list=\"historyList\"\n        @handleSearch=\"(data) => (searchData = data)\"\n        @del=\"del\"\n        :vertical=\"false\"\n        key=\"history\"\n      />\n\n      <SearchResult :list=\"searchList\" @play=\"play\" :noResult=\"noResult\">\n        <template v-slot=\"{ item }\">\n          <div class=\"name ellipsis\" v-html=\"highlight(item.name)\"></div>\n          <div class=\"singer ellipsis\" v-html=\"highlight(item.singer)\"></div>\n        </template>\n      </SearchResult>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\nimport { mapMutations, mapGetters } from 'vuex';\nimport { vSearch, vSearchHot } from '@/api/search';\nimport { filterList } from '@/utils/index.js';\nimport SearchList from '@/components/Search/SearchList';\nimport SearchResult from '@/components/Search/SearchResult';\nexport default {\n  name: 'Search',\n  components: { SearchList, SearchResult },\n  data() {\n    return {\n      searchData: '',\n      hotLsit: [],\n      searchList: [],\n      flag: null,\n      noResult: false,\n    };\n  },\n\n  computed: {\n    highlight() {\n      const reg = new RegExp(this.searchData, 'gi');\n      return function(val) {\n        return val.replace(reg, `<span class='red'>${this.searchData}</span>`);\n      };\n    },\n    ...mapGetters(['playList', 'historyList']),\n  },\n\n  watch: {\n    searchData(newVal) {\n      this.debounce(() => {\n        this.getSearch(newVal);\n      }, 300);\n    },\n  },\n\n  created() {\n    this.getHotList();\n  },\n\n  methods: {\n    debounce(fn, wait = 1000) {\n      if (this.flag) clearTimeout(this.flag);\n      this.flag = setTimeout(fn, wait);\n    },\n    async getSearch(data) {\n      if (!this.searchData) {\n        this.searchList = [];\n        return;\n      }\n\n      const { code, result } = await vSearch(data);\n      if (code === 200) {\n        const { songs } = result;\n        if (!songs) {\n          this.searchList = [];\n          this.noResult = true;\n          return;\n        }\n        this.noResult = false;\n        const songsList = songs.reduce((acur, ele) => {\n          const song = {\n            id: ele.id,\n            name: ele.name,\n            singer: ele.artists[0].name,\n            picUrl: ele.artists[0].img1v1Url,\n          };\n\n          acur.push(song);\n          return acur;\n        }, []);\n\n        this.searchList = Object.freeze(songsList);\n      }\n    },\n    async getHotList() {\n      const { code, result } = await vSearchHot();\n      if (code === 200) {\n        const { hots } = result;\n        const list = hots.reduce((acur, item) => {\n          acur.push(item.first);\n          return acur;\n        }, []);\n        this.hotLsit = list;\n      }\n    },\n    cancle() {\n      this.searchData = '';\n      this.searchList = [];\n    },\n\n    del() {\n      if (this.historyList.length === 0) return;\n      this.$MessageBox({\n        title: '',\n        content: '是否要删除全部',\n      })\n        .then(() => {\n          this.setHistoryList([]);\n          localStorage.setItem('history', JSON.stringify([]));\n        })\n        .catch(() => {});\n    },\n    play(song) {\n      // console.log(song);\n      // let songs = this.playList;\n      const history = this.historyList;\n      const id = history.indexOf(this.searchData);\n      if (id > -1) {\n        history.splice(id, 1);\n      }\n      if (history.length >= 10) {\n        history.pop();\n      }\n      history.unshift(this.searchData);\n      /**********************/\n      const songs = filterList(this.playList, song);\n      const index = songs.findIndex((item) => item.id === song.id);\n      localStorage.setItem('history', JSON.stringify(history));\n      this.setPlay(songs);\n      this.setCurrrentIndex(index);\n      this.setFullScreen(true);\n      this.setHistoryList(history);\n    },\n    ...mapMutations([\n      'setCurrrentIndex',\n      'setPlay',\n      'setFullScreen',\n      'setHistoryList',\n    ]),\n  },\n};\n</script>\n<style scoped lang=\"less\">\n.search-input {\n  width: 100%;\n  height: 28px;\n  padding-left: 15px;\n  background: rgba(255, 255, 255, 0.3);\n  border-radius: 50px;\n  &::-webkit-input-placeholder {\n    /* placeholder颜色  */\n    color: #f1f1f1;\n    /* placeholder字体大小  */\n    font-size: 14px;\n  }\n}\n.search {\n  position: relative;\n  background: #fbfbfb;\n  padding-top: 50px;\n  color: #f1f1f1;\n  z-index: 9;\n  .item {\n    height: 100%;\n    overflow-x: hidden;\n    overflow-y: scroll;\n  }\n}\n.name {\n  font-size: 14px;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=e29fbc52&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=e29fbc52&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e29fbc52\",\n  null\n  \n)\n\nexport default component.exports","var hiddenKeys = require('../internals/hidden-keys');\nvar isObject = require('../internals/is-object');\nvar has = require('../internals/has');\nvar defineProperty = require('../internals/object-define-property').f;\nvar uid = require('../internals/uid');\nvar FREEZING = require('../internals/freezing');\n\nvar METADATA = uid('meta');\nvar id = 0;\n\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\n\nvar setMetadata = function (it) {\n  defineProperty(it, METADATA, { value: {\n    objectID: 'O' + ++id, // object ID\n    weakData: {}          // weak collections IDs\n  } });\n};\n\nvar fastKey = function (it, create) {\n  // return a primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMetadata(it);\n  // return object ID\n  } return it[METADATA].objectID;\n};\n\nvar getWeakData = function (it, create) {\n  if (!has(it, METADATA)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMetadata(it);\n  // return the store of weak collections IDs\n  } return it[METADATA].weakData;\n};\n\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZING && meta.REQUIRED && isExtensible(it) && !has(it, METADATA)) setMetadata(it);\n  return it;\n};\n\nvar meta = module.exports = {\n  REQUIRED: false,\n  fastKey: fastKey,\n  getWeakData: getWeakData,\n  onFreeze: onFreeze\n};\n\nhiddenKeys[METADATA] = true;\n"],"sourceRoot":""}