{"version":3,"sources":["webpack:///./src/views/mall/mall-shop.vue?ae79","webpack:///./src/views/mall/mall-shop.vue?c90b","webpack:///src/views/mall/mall-shop.vue","webpack:///./src/views/mall/mall-shop.vue?5b31","webpack:///./src/views/mall/mall-shop.vue","webpack:///./src/api/album.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","class","albumType","on","$event","handleChange","_v","ref","navList","active","e","index","_l","item","key","stopPropagation","getSingerDetail","_s","formatRank","rankIncr","directives","name","rawName","value","expression","albumName","artistName","saleNum","staticRenderFns","data","albums","type","mounted","$refs","tabs","init","filters","formatIndex","padStart","methods","rank","component","getAlbum","id","service","url","method","getAlbumNewset","getAlbumList","params","getAlbumNew","area","getAlbumSongsaleboard","getAlbumListStyle"],"mappings":"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","file":"js/mall-shop.ac99d9e3.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mall-shop.vue?vue&type=style&index=0&id=77c7c6d1&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mall-shop.vue?vue&type=style&index=0&id=77c7c6d1&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mall-shop\"},[_c('BaseBack',{attrs:{\"title\":\"畅销榜\"}}),_c('nav',{staticClass:\"mall-shop-nav\"},[_c('span',{staticClass:\"mall-shop-nav-item\",class:{ 'mall-shop-nav-active': _vm.albumType == 0 },on:{\"click\":function($event){return _vm.handleChange('albumType', 0)}}},[_vm._v(\"数字专辑榜\")]),_c('span',{staticClass:\"mall-shop-nav-item\",class:{ 'mall-shop-nav-active': _vm.albumType == 1 },on:{\"click\":function($event){return _vm.handleChange('albumType', 1)}}},[_vm._v(\"数字单曲榜\")])]),_c('BaseTabs',{ref:\"tabs\",attrs:{\"navList\":_vm.navList,\"active\":_vm.active,\"lineHeight\":\"0.053rem\",\"position\":\"relative\",\"top\":\"0\"},on:{\"change\":function (e) { return _vm.handleChange('type', e); },\"tabs\":function (index) { return (_vm.active = index); }}}),_c('ul',{staticClass:\"singer-main-wrap\"},_vm._l((_vm.albums),function(item,index){return _c('li',{key:index,staticClass:\"singer-main-item\",on:{\"click\":function($event){$event.stopPropagation();return _vm.getSingerDetail(item)}}},[_c('div',{staticClass:\"singer-main-index\"},[_c('span',{staticClass:\"singer-main-nownum\",class:{ 'singer-main-top3': index <= 2 }},[_vm._v(_vm._s(index + 1))]),_c('span',{staticClass:\"singer-main-rank\"},[_c('span',{staticClass:\"iconfont\",class:_vm.formatRank(item.rankIncr)}),_c('span',{staticClass:\"singer-main-num\"},[_vm._v(\" \"+_vm._s(item.rankIncr == 0 ? '' : item.rankIncr))])])]),_c('div',{staticClass:\"singer-main-avatar\"},[_c('img',{directives:[{name:\"lazy\",rawName:\"v-lazy\",value:(item.coverUrl),expression:\"item.coverUrl\"}],staticClass:\"singer-main-img\",attrs:{\"alt\":\"\"}})]),_c('div',{staticClass:\"singer-main-name\"},[_c('span',{staticClass:\"singer-main-singer\"},[_vm._v(_vm._s(item.albumName))]),_c('span',{staticClass:\"singer-main-score\"},[_vm._v(\" \"+_vm._s(item.artistName)+\" \")]),_c('span',{staticClass:\"singer-main-saleNum\"},[_vm._v(\"已售\"+_vm._s(item.saleNum)+\"张\")])])])}),0)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"mall-shop\">\n    <BaseBack title=\"畅销榜\" />\n    <nav class=\"mall-shop-nav\">\n      <span\n        class=\"mall-shop-nav-item\"\n        @click=\"handleChange('albumType', 0)\"\n        :class=\"{ 'mall-shop-nav-active': albumType == 0 }\"\n        >数字专辑榜</span\n      >\n      <span\n        class=\"mall-shop-nav-item\"\n        @click=\"handleChange('albumType', 1)\"\n        :class=\"{ 'mall-shop-nav-active': albumType == 1 }\"\n        >数字单曲榜</span\n      >\n    </nav>\n    <BaseTabs\n      :navList=\"navList\"\n      :active=\"active\"\n      lineHeight=\"0.053rem\"\n      @change=\"(e) => handleChange('type', e)\"\n      @tabs=\"(index) => (active = index)\"\n      position=\"relative\"\n      top=\"0\"\n      ref=\"tabs\"\n    />\n    <ul class=\"singer-main-wrap\">\n      <li\n        v-for=\"(item, index) in albums\"\n        :key=\"index\"\n        @click.stop=\"getSingerDetail(item)\"\n        class=\"singer-main-item\"\n      >\n        <div class=\"singer-main-index\">\n          <span\n            class=\"singer-main-nownum\"\n            :class=\"{ 'singer-main-top3': index <= 2 }\"\n            >{{ index + 1 }}</span\n          >\n          <span class=\"singer-main-rank\">\n            <span class=\"iconfont\" :class=\"formatRank(item.rankIncr)\"></span>\n            <span class=\"singer-main-num\"\n              >&nbsp;{{ item.rankIncr == 0 ? '' : item.rankIncr }}</span\n            >\n          </span>\n        </div>\n        <div class=\"singer-main-avatar\">\n          <img v-lazy=\"item.coverUrl\" alt class=\"singer-main-img\" />\n        </div>\n        <div class=\"singer-main-name\">\n          <span class=\"singer-main-singer\">{{ item.albumName }}</span>\n          <span class=\"singer-main-score\">\n            {{ item.artistName }}\n          </span>\n          <span class=\"singer-main-saleNum\">已售{{ item.saleNum }}张</span>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\nimport { getAlbumSongsaleboard } from '@/api/album';\nexport default {\n  name: 'MallShop',\n  data() {\n    return {\n      albums: [],\n      active: 0,\n      type: 'daily',\n      albumType: 0,\n      navList: [\n        { id: 'daily', name: '日榜' },\n        { id: 'week', name: '周榜' },\n        { id: 'year', name: '2021年榜' },\n        { id: 'total', name: '总榜' },\n      ],\n    };\n  },\n  mounted() {\n    this.$refs.tabs.init();\n    this.handleChange('daily', 0);\n  },\n  filters: {\n    formatIndex(index) {\n      return (index + '').padStart(2, '0');\n    },\n  },\n  methods: {\n    async handleChange(type, index) {\n      if (type == 'type') {\n        this.type = this.navList[index]['id'];\n      } else {\n        this.albumType = index;\n      }\n      const { products, code } = await getAlbumSongsaleboard({\n        type: this.type,\n        albumType: this.albumType,\n        limit: 10,\n      });\n      if (code == 200) this.albums = products;\n    },\n    formatRank(rank) {\n      if (rank > 0) return ['icon-jiantou', 'rankRose'];\n      if (rank < 0) return ['icon-jiantou', 'rankLose'];\n      if (rank == 0) return ['icon-line', 'rankEqual'];\n    },\n  },\n};\n</script>\n<style lang=\"less\" scoped>\n.mall-shop {\n  padding: 60px 0;\n  &-nav {\n    display: flex;\n    border: 1px solid #169af3;\n    width: 240px;\n    border-radius: 30px;\n    justify-content: space-between;\n    margin: 0 auto;\n    &-item {\n      font-size: 16px;\n      padding: 4px 0;\n      border-radius: 14px;\n      width: 50%;\n      text-align: center;\n      color: #169af3;\n    }\n    &-active {\n      background-color: #169af3;\n      color: #fff;\n    }\n  }\n}\n\n.singer {\n  &-main {\n    &-item {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-top: 10px;\n    }\n    &-img {\n      width: 80px;\n      height: 80px;\n      border-radius: 8px;\n    }\n    &-index {\n      width: 55px;\n      display: flex;\n      flex-direction: column;\n      font-size: 18px;\n    }\n    &-name {\n      flex: 1;\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      margin-left: 15px;\n    }\n    &-score,\n    &-saleNum {\n      margin-top: 6px;\n      color: #999;\n    }\n    &-singer {\n      font-size: 16px;\n    }\n    &-nownum {\n      color: #999;\n      font-size: 18px;\n      text-align: center;\n    }\n    &-rank {\n      display: flex;\n      align-items: center;\n      margin-top: 4px;\n      justify-content: center;\n    }\n    &-top3 {\n      color: #169af3;\n      font-size: 26px;\n    }\n    &-num {\n      font-size: 12px;\n      color: #999;\n    }\n  }\n}\n.rankRose {\n  color: #ff3a3a;\n  font-size: 12px;\n}\n.rankLose {\n  color: #169af3;\n  font-size: 12px;\n  transform: rotate(180deg);\n}\n.rankEqual {\n  font-size: 12px;\n  transform: scale(0.7);\n  color: #999;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mall-shop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mall-shop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./mall-shop.vue?vue&type=template&id=77c7c6d1&scoped=true&\"\nimport script from \"./mall-shop.vue?vue&type=script&lang=js&\"\nexport * from \"./mall-shop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mall-shop.vue?vue&type=style&index=0&id=77c7c6d1&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"77c7c6d1\",\n  null\n  \n)\n\nexport default component.exports","import service from '../request/service';\n\nexport function getAlbum(id) {\n  return service({\n    url: `/album?id=${id}`,\n    method: 'get',\n  });\n}\nexport function getAlbumNewset() {\n  return service({\n    url: '/album/newest',\n    method: 'get',\n  });\n}\nexport function getAlbumList(params) {\n  return service({\n    url: '/album/list',\n    method: 'get',\n    params,\n  });\n}\nexport function getAlbumNew(area) {\n  return service({\n    url: `/album/new?area=${area}&limit=10`,\n    method: 'get',\n  });\n}\nexport function getAlbumSongsaleboard(params) {\n  return service({\n    url: 'album/songsaleboard',\n    params,\n    method: 'get',\n  });\n}\nexport function getAlbumListStyle(params) {\n  return service({\n    url: `/album/list/style`,\n    method: 'get',\n    params,\n  });\n}\n"],"sourceRoot":""}