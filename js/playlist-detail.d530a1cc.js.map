{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/core-js/modules/es.object.is.js","webpack:///./src/views/playlist/playlist-detail.vue?532e","webpack:///src/views/playlist/playlist-detail.vue","webpack:///./src/views/playlist/playlist-detail.vue?3b78","webpack:///./src/views/playlist/playlist-detail.vue","webpack:///./src/api/rank.js"],"names":["module","exports","Object","is","x","y","$","target","stat","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","info","opacity","songs","on","player","staticRenderFns","0","1","name","data","nickname","subscribedCount","commentCount","description","coverImgUrl","avatarUrl","mapName","$route","query","type","computed","created","getPlaylist","mounted","document","addEventListener","handldeScroll","methods","item","fee","$toast","$drop","ele","playList","setPlay","setSequenceList","setCurrrentIndex","index","documentElement","scrollTop","component","rankSongs","id","service","url","method","rankTopList"],"mappings":"oGAEAA,EAAOC,QAAUC,OAAOC,IAAM,SAAYC,EAAGC,GAE3C,OAAOD,IAAMC,EAAU,IAAND,GAAW,EAAIA,IAAM,EAAIC,EAAID,GAAKA,GAAKC,GAAKA,I,uBCJ/D,IAAIC,EAAI,EAAQ,QACZH,EAAK,EAAQ,QAIjBG,EAAE,CAAEC,OAAQ,SAAUC,MAAM,GAAQ,CAClCL,GAAIA,K,yCCNN,IAAIM,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,eAAe,CAACF,EAAG,WAAW,CAACG,MAAM,CAAC,WAAa,cAAc,MAAQP,EAAIQ,MAAM,MAAQ,UAAUJ,EAAG,iBAAiB,CAACG,MAAM,CAAC,KAAOP,EAAIS,KAAK,QAAUT,EAAIU,WAAWN,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQP,EAAIW,OAAOC,GAAG,CAAC,OAASZ,EAAIa,WAAW,IACrWC,EAAkB,G,gHCWtB,GACEC,EAAG,KACHC,EAAG,OAEL,GACEC,KAAM,iBACNC,KAFF,WAGI,MAAO,CACLP,MAAO,GACPF,KAAM,CACJU,SAAU,GACVC,gBAAiB,EACjBC,aAAc,EACdC,YAAa,EACbL,KAAM,GACNM,YAAa,GACbC,UAAW,IAEbd,QAAS,EACTF,MAAOiB,EAAQxB,KAAKyB,OAAOC,MAAMC,QAGrCC,SAAU,OAAZ,OAAY,CAAZ,GACA,8BAEEC,QArBF,WAsBI7B,KAAK8B,eAEPC,QAxBF,WAyBIC,SAASC,iBAAiB,SAAUjC,KAAKkC,gBAE3CC,QAAS,OAAX,OAAW,CAAX,CACI,YADJ,WACA,yMACA,qBADA,SAgBA,kBAhBA,OA+BA,IA/BA,aAGA,SACA,EAJA,EAIA,OACA,EALA,EAKA,QACA,EANA,EAMA,gBACA,EAPA,EAOA,aACA,EARA,EAQA,YACA,EATA,EASA,WACA,EAVA,EAUA,KACA,EAXA,EAWA,YACA,EAZA,EAYA,WACA,EAbA,EAaA,UAEA,EAfA,EAeA,WAEA,GACA,oBACA,sBACA,kBACA,aACA,eACA,cACA,OACA,cACA,aACA,aAEA,SACA,KACA,uBACA,GACA,cACA,kBACA,yBACA,mBACA,4BACA,gCACA,kBACA,WACA,cACA,gBACA,kBACA,sBAGA,sBAEA,UAjDA,+CAmDIvB,OApDJ,SAoDA,OACsB,GAAZwB,EAAKC,KACPrC,KAAKsC,OAAO,CAApB,qCAEMtC,KAAKuC,MAAMC,GACNjD,OAAOC,GAAGQ,KAAKU,MAAOV,KAAKyC,YAC9BzC,KAAK0C,QAAQ1C,KAAKU,OAClBV,KAAK2C,gBAAgB3C,KAAKU,QAE5BV,KAAK4C,iBAAiBC,IAExBX,cA/DJ,WAgEMlC,KAAKS,QAAU,EAAIuB,SAASc,gBAAgBC,UAAY,IACpDf,SAASc,gBAAgBC,UAAY,IACvC/C,KAAKO,MAAQP,KAAKQ,KAAKQ,KAEvBhB,KAAKO,MAAQiB,EAAQxB,KAAKyB,OAAOC,MAAMC,QAG/C,gBACA,gBACA,mBACA,UACA,sBCtHwW,I,YCOpWqB,EAAY,eACd,EACAlD,EACAe,GACA,EACA,KACA,KACA,MAIa,aAAAmC,E,6CClBf,oFAEO,SAASC,EAAUC,GACxB,OAAOC,eAAQ,CACbC,IAAK,sBAAF,OAAwBF,GAC3BG,OAAQ,QAIL,SAASC,IACd,OAAOH,eAAQ,CACbC,IAAK,kBACLC,OAAQ","file":"js/playlist-detail.d530a1cc.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.github.io/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"rank-detail\"},[_c('BaseBack',{attrs:{\"background\":\"transparent\",\"title\":_vm.title,\"color\":\"#fff\"}}),_c('BaseBackGround',{attrs:{\"info\":_vm.info,\"opacity\":_vm.opacity}}),_c('BaseSongList',{attrs:{\"songs\":_vm.songs},on:{\"player\":_vm.player}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"rank-detail\">\n    <BaseBack background=\"transparent\" :title=\"title\" color=\"#fff\" />\n    <BaseBackGround :info=\"info\" :opacity=\"opacity\" />\n    <BaseSongList :songs=\"songs\" @player=\"player\" />\n  </div>\n</template>\n\n<script>\nimport { rankSongs } from '@/api/rank';\nimport { mapMutations, mapGetters } from 'vuex';\nimport { Song } from '@/utils/config';\nconst mapName = {\n  0: '歌单',\n  1: '排行榜',\n};\nexport default {\n  name: 'PlaylistDetail',\n  data() {\n    return {\n      songs: [],\n      info: {\n        nickname: '',\n        subscribedCount: 0,\n        commentCount: 0,\n        description: 0,\n        name: '',\n        coverImgUrl: '',\n        avatarUrl: '',\n      },\n      opacity: 1,\n      title: mapName[this.$route.query.type],\n    };\n  },\n  computed: {\n    ...mapGetters(['playList']),\n  },\n  created() {\n    this.getPlaylist();\n  },\n  mounted() {\n    document.addEventListener('scroll', this.handldeScroll);\n  },\n  methods: {\n    async getPlaylist() {\n      const { id } = this.$route.params;\n      const {\n        playlist: {\n          tracks,\n          creator,\n          subscribedCount,\n          commentCount,\n          description,\n          shareCount,\n          name,\n          coverImgUrl,\n          updateTime,\n          playCount,\n        },\n        privileges,\n      } = await rankSongs(id);\n      const info = {\n        nickname: creator.nickname,\n        avatarUrl: creator.avatarUrl,\n        subscribedCount,\n        shareCount,\n        commentCount,\n        description,\n        name: name,\n        coverImgUrl,\n        updateTime,\n        playCount,\n      };\n      this.info = info;\n      let songs = [];\n      for (let i = 0, length = tracks.length; i < length; i++) {\n        const song = {\n          id: tracks[i]['id'],\n          name: tracks[i]['name'],\n          album: tracks[i]['al']['name'],\n          artists: tracks[i]['ar'],\n          picUrl: tracks[i]['al']['picUrl'],\n          publishTime: tracks[i]['publishTime'],\n          alia: tracks[i]['alia'],\n          privilege: {\n            pl: privileges[i]['pl'],\n            fee: tracks[i]['fee'],\n            flag: privileges[i]['flag'],\n            maxbr: privileges[i]['maxbr'],\n          },\n        };\n        songs.push(new Song(song));\n      }\n      this.songs = songs;\n    },\n    player(index, ele, item) {\n      if (item.fee == 1) {\n        this.$toast({ message: '此歌曲为vip歌曲, 因合作方要求,暂时无法播放' });\n      }\n      this.$drop(ele);\n      if (!Object.is(this.songs, this.playList)) {\n        this.setPlay(this.songs);\n        this.setSequenceList(this.songs);\n      }\n      this.setCurrrentIndex(index);\n    },\n    handldeScroll() {\n      this.opacity = 1 - document.documentElement.scrollTop / 200;\n      if (document.documentElement.scrollTop > 150) {\n        this.title = this.info.name;\n      } else {\n        this.title = mapName[this.$route.query.type];\n      }\n    },\n    ...mapMutations([\n      'setFullScreen',\n      'setCurrrentIndex',\n      'setPlay',\n      'setSequenceList',\n    ]),\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playlist-detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./playlist-detail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./playlist-detail.vue?vue&type=template&id=4a812dc9&\"\nimport script from \"./playlist-detail.vue?vue&type=script&lang=js&\"\nexport * from \"./playlist-detail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import service from '../request/service';\n\nexport function rankSongs(id) {\n  return service({\n    url: `playlist/detail?id=${id}`,\n    method: 'get',\n  });\n}\n\nexport function rankTopList() {\n  return service({\n    url: `/toplist/detail`,\n    method: 'get',\n  });\n}\n"],"sourceRoot":""}