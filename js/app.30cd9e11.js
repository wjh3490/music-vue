(function(e){function t(t){for(var i,r,c=t[0],o=t[1],l=t[2],u=0,d=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&d.push(a[r][0]),a[r]=0;for(i in o)Object.prototype.hasOwnProperty.call(o,i)&&(e[i]=o[i]);f&&f(t);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,r=1;r<n.length;r++){var c=n[r];0!==a[c]&&(i=!1)}i&&(s.splice(t--,1),e=o(o.s=n[0]))}return e}var i={},r={app:0},a={app:0},s=[];function c(e){return o.p+"js/"+({detail:"detail",rank:"rank",recommend:"recommend",search:"search",user:"user"}[e]||e)+"."+{detail:"65c8aa0a",rank:"16a24b77",recommend:"0e201f28",search:"c0245ef0",user:"0aed938f"}[e]+".js"}function o(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n={detail:1,rank:1,recommend:1,search:1,user:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise((function(t,n){for(var i="css/"+({detail:"detail",rank:"rank",recommend:"recommend",search:"search",user:"user"}[e]||e)+"."+{detail:"b35a837b",rank:"a0d6b1cc",recommend:"41f72abc",search:"807f9985",user:"4b6c731f"}[e]+".css",a=o.p+i,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var l=s[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===i||u===a))return t()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===i||u===a)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var i=t&&t.target&&t.target.src||a,s=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=i,delete r[e],f.parentNode.removeChild(f),n(s)},f.href=a;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){r[e]=0})));var i=a[e];if(0!==i)if(i)t.push(i[2]);else{var s=new Promise((function(t,n){i=a[e]=[t,n]}));t.push(i[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=a[e];if(0!==n){if(n){var i=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+i+": "+r+")",d.name="ChunkLoadError",d.type=i,d.request=r,n[1](d)}a[e]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=i,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(n,i,function(t){return e[t]}.bind(null,i));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0268":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"play-mode"},[e._t("default"),n("i",{staticClass:"iconfont mode-icon",class:e.swichMode,on:{click:function(t){e.visibleMode=!e.visibleMode}}}),n("transition",{attrs:{name:"slide"}},[n("ul",{directives:[{name:"show",rawName:"v-show",value:e.visibleMode,expression:"visibleMode"}],staticClass:"mode-list"},e._l(e.modeList,(function(t,i){return n("li",{key:t.icon,staticClass:"mode-item",on:{click:function(t){return e.handleMode(i)}}},[n("i",{staticClass:"iconfont icon-iconsMusicyemianbofangmoshiRepeat mode-icon",class:[{active:e.mode===i},t.icon]}),n("span",{staticClass:"mode-name",class:{active:e.mode===i}},[e._v(e._s(t.name))])])})),0)])],2)},r=[],a=n("5530"),s=n("2f62"),c={name:"PlayerMode",props:{swichMode:{type:String}},updated:function(){console.log("PlayerMode")},data:function(){return{visibleMode:!1,modeList:[{icon:"icon-iconsMusicyemianbofangmoshiRepeat",name:"顺序播放"},{icon:"icon-iconsMusicyemianbofangmoshiAlrepeatOne",name:"单曲循环"},{icon:"icon-iconsMusicyemianbofangmoshiShuffle",name:"随机播放"}]}},methods:{handleMode:function(e){this.visibleMode=!1,this.$emit("changeMode",e)}},computed:Object(a["a"])({},Object(s["c"])(["mode"]))},o=c,l=(n("3e79"),n("2877")),u=Object(l["a"])(o,i,r,!1,null,"46453b9e",null);t["default"]=u.exports},"0748":function(e,t,n){},"0b9a":function(e,t,n){var i={"./BaseBack.vue":"1583","./BaseNav.vue":"81bb"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id="0b9a"},"102b":function(e,t,n){},1583:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"return",class:{isFixed:e.isFixed},style:{background:e.background}},[n("span",{staticClass:"iconfont icon-iconfont2 return-left",on:{click:function(t){return e.$router.back()}}}),n("div",{staticClass:"return-middle"},[e._t("default")],2),n("span",{staticClass:"return-right"},[e._t("right")],2)])},r=[],a={name:"BaseBack",props:{isFixed:{type:Boolean,default:!1},background:{type:String,default:""}}},s=a,c=(n("e3ea"),n("2877")),o=Object(c["a"])(s,i,r,!1,null,"77a4bceb",null);t["default"]=o.exports},"1d1a":function(e,t,n){"use strict";var i=n("53e6"),r=n.n(i);r.a},2795:function(e,t,n){var i={"./PlayerCircle.vue":"971e","./PlayerControl.vue":"c4cb","./PlayerLyric.vue":"c696","./PlayerMode.vue":"0268","./PlayerProgressBar.vue":"3221","./PlayerTitle.vue":"8838"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}r.keys=function(){return Object.keys(i)},r.resolve=a,e.exports=r,r.id="2795"},"2b4c":function(e,t,n){"use strict";n("d3b7");var i=n("bc3a"),r=n.n(i),a=r.a.create({baseURL:"http://139.9.230.159:3000",timeout:5e3});a.defaults.retry=4,a.defaults.retryDelay=1e3,a.interceptors.request.use((function(e){return e}),(function(e){Promise.reject(e)})),a.interceptors.response.use((function(e){var t=e.data;return t}),(function(e){var t=e.config;if(!t||!t.retry)return Promise.reject(e);if(t.__retryCount=t.__retryCount||0,t.__retryCount>=t.retry)return Promise.reject(e);t.__retryCount+=1;var n=new Promise((function(e){setTimeout((function(){e()}),t.retryDelay||1)}));return n.then((function(){return a(t)}))})),t["a"]=a},3221:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"progress",rawName:"v-progress"}],staticClass:"proress-bar"},[n("div",{staticClass:"line-bar",style:{width:e.percent+"%",backgroundColor:"#20a0ff"}},[n("div",{ref:"progressBall",staticClass:"ball"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"tip",style:{background:"#20a0ff"}},[e._v(" "+e._s(e._f("format")(e.tip))+" ")])])]),n("div",{staticClass:"currentTime"},[e._v(e._s(e._f("format")(e.currentTime)))]),n("div",{staticClass:"duration"},[e._v(e._s(e._f("format")(e.duration)))])])},r=[];n("a9e3"),n("b680"),n("d3b7"),n("25f0"),n("4d90");function a(e){e|=0;var t=e/60|0,n=(e%60).toString().padStart(2,"0");return t+":"+n}n("4de4");var s,c,o,l,u,d,f={inserted:function(e,t,n){u=n.context.$refs.progressBall;var i=n.context,r=e.children[0],a=.7*document.body.clientWidth;u=i.$refs.progressBall;var f={startX:0,left:0},m=function(e){var t=Math.min(a,Math.max(0,f.left+e));return t/a},y=function(e){var t=i.lyricKeys.filter((function(t){return t<=Math.floor(e)}));i.$listeners.progressBar(e),i.$listeners["update:LyricScrollY"](t.length),i.$listeners["update:debounce"](!0)};s=function(e){e.stopPropagation(),f.startX=e.touches[0].clientX,f.left=r.clientWidth},c=function(e){e.stopPropagation(),i.isMove=!0,i.visible=!0;var t=e.touches[0].clientX-f.startX,n=m(t);r.style.width=100*n+"%",i.tip=n*i.duration},o=function(e){e.stopPropagation();var t=e.changedTouches[0].clientX-f.startX,n=m(t),r=n*i.duration;y(r),i.visible=!1,d=setTimeout((function(){return i.isMove=!1}),50)},l=function(t){t.preventDefault(),t.stopPropagation();var n=e.getBoundingClientRect().left,r=(t.clientX-n)/a,s=r*i.duration;y(s)},p("addEventListener",e)},unbind:function(e){p("removeEventListener",e),clearTimeout(d)}};function p(e,t){u[e]("touchstart",s,!1),u[e]("touchmove",c,!1),u[e]("touchend",o,!1),t[e]("click",l,!1)}var m={name:"PlayerProgressBar",filters:{format:a},updated:function(){console.log("PlayerProgressBar")},directives:{progress:f},props:{duration:Number,currentTime:Number,lyricKeys:[Array,String],LyricScrollY:Number,debounce:Boolean},data:function(){return{tip:0,visible:!1,isMove:!1}},computed:{percent:function(e){if(!this.isMove)return this.currentTime/this.duration*100||0}}},y=m,v=(n("f509"),n("2877")),h=Object(v["a"])(y,i,r,!1,null,"e8687bc6",null);t["default"]=h.exports},"3e79":function(e,t,n){"use strict";var i=n("102b"),r=n.n(i);r.a},"439b":function(e,t,n){"use strict";var i=n("8360"),r=n.n(i);r.a},4708:function(e,t,n){"use strict";var i=n("4eb2"),r=n.n(i);r.a},"4eb2":function(e,t,n){},"4eca":function(e,t,n){"use strict";var i=n("d0e9"),r=n.n(i);r.a},"53e6":function(e,t,n){},5582:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{padding75:e.playList.length>0},attrs:{id:"app"}},[n("router-view",{key:e.$route.path}),n("Player")],1)},a=[],s=n("5530"),c=n("2f62"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.playList.length>0,expression:"playList.length > 0"}],staticClass:"player"},[n("transition",{attrs:{name:"scale"}},[e.fullScreen?n("NormalPlayer",{ref:"normal",attrs:{swichMode:e.swichMode,audio:e.audio,currentTime:e.currentTime,duration:e.duration,palyStatus:e.palyStatus,animationStatus:e.animationStatus,currentLyric:e.currentLyric,lyricKeys:e.lyricKeys},on:{pause:e.pause,next:e.next,pre:e.pre,mode:e.changeMode,handlePlayListVisible:e.handlePlayListVisible}}):e._e()],1),n("transition",{attrs:{name:"fade2"}},[e.fullScreen?e._e():n("MiniPlayer",{attrs:{palyStatus:e.palyStatus,animationStatus:e.animationStatus,percent:e.percent},on:{pause:e.pause,next:e.next,handlePlayListVisible:e.handlePlayListVisible}})],1),n("transition",{attrs:{name:"slide1"}},[e.visiblePlayList?n("PlayList",{ref:"playList",attrs:{visiblePlayList:e.visiblePlayList,swichMode:e.swichMode},on:{"update:visiblePlayList":function(t){e.visiblePlayList=t},"update:visible-play-list":function(t){e.visiblePlayList=t},stopPlay:function(){return e.audio.pause()},changeMode:e.changeMode}}):e._e()],1),n("audio",{ref:"audio",attrs:{src:e.src},on:{timeupdate:function(t){return e.currentTime=t.target.currentTime},ended:e.end,canplay:e.canplay,error:function(t){e.songReady=!0},play:e.ready}})],1)},l=[],u=(n("c740"),n("a434"),n("dca8"),n("b64b"),n("96cf"),n("1da1")),d={sequence:0,loop:1,random:2},f=n("ed08"),p=n("2b4c");function m(e){return Object(p["a"])({url:"/song/url",method:"get",params:{id:e}})}function y(e){return Object(p["a"])({url:"/lyric?id=".concat(e),method:"get"})}var v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"mini",on:{click:function(t){return t.stopPropagation(),e.$store.commit("setFullScreen",!0)}}},[n("div",{staticClass:"circle1",class:{active:!e.playing}},[n("div",{staticClass:"svg",style:{"background-image":"conic-gradient(#20a0ff 0%, #2010ff "+100*e.percent+"%, #fff "+100*e.percent+"%, #fff "+(100-100*e.percent)+"%)"}}),n("div",{staticClass:"bgc",class:e.animationStatus},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.currrenSong.picUrl,expression:"currrenSong.picUrl"}],staticClass:"bgc-img",attrs:{alt:""}})])]),n("div",{staticClass:"mini-desc"},[n("p",{staticClass:"ellipsis mini-player-name"},[e._v(e._s(e.currrenSong.name))]),n("p",{staticClass:"ellipsis mini-player-singer"},[e._v(e._s(e.currrenSong.singer))])]),n("div",{staticClass:"audio-icon unselectable"},[e._l(e.audioIcon,(function(t){return[n("div",{key:t.time,staticClass:"column",class:{active:!e.playing},style:{animationDelay:t.time+"s"}})]}))],2),n("div",{staticClass:"control"},[n("i",{staticClass:"pause iconfont mini-control-icon mini-icon-commom",class:e.palyStatus,on:{click:function(t){return t.stopPropagation(),e.$emit("pause")}}}),n("i",{staticClass:"next iconfont icon-next mini-icon-commom",on:{click:function(t){return t.stopPropagation(),e.$emit("next")}}}),n("i",{staticClass:"iconfont icon-iconsMusicyemianbofangmoshiPlayList mini_collect-icon mini-icon-commom",on:{click:function(t){return t.stopPropagation(),e.$emit("handlePlayListVisible")}}})])])},h=[],g=(n("a9e3"),{name:"PlayerMini",props:{animationStatus:String,palyStatus:String,percent:{type:Number,default:0}},data:function(){return{audioIcon:[{time:-1.2},{time:0},{time:-1.5},{time:-.9},{time:-.6}]}},updated:function(){console.log("PlayerMini")},computed:Object(s["a"])({},Object(c["c"])(["currrenSong","fullScreen","playing"]))}),b=g,L=(n("7ef0"),n("2877")),S=Object(L["a"])(b,v,h,!1,null,"624599a4",null),C=S.exports,x=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"normal-player"},[n("div",{staticClass:"normal-player-main"},[n("PlayerTitle"),n("PlayerLyric",{ref:"lyric",attrs:{currentLyric:e.currentLyric,visibleAllLyric:e.visibleAllLyric,activeLyricIndex:e.activeLyricIndex},on:{"update:visibleAllLyric":function(t){e.visibleAllLyric=t},"update:visible-all-lyric":function(t){e.visibleAllLyric=t}}}),n("PlayerCircle",{attrs:{animationStatus:e.animationStatus,currentLyric:e.currentLyric,visibleAllLyric:e.visibleAllLyric,playingLyric:e.currentLyric[e.activeLyricIndex]},on:{"update:visibleAllLyric":function(t){e.visibleAllLyric=t},"update:visible-all-lyric":function(t){e.visibleAllLyric=t}}}),n("div",{staticClass:"bottom"},[n("PlayerMode",{attrs:{swichMode:e.swichMode.icon},on:{changeMode:function(t){return e.$emit("mode",t)}}}),n("PlayerControl",{attrs:{palyStatus:e.palyStatus},on:{pause:function(t){return e.$emit("pause")},next:function(t){return e.$emit("next")},pre:function(t){return e.$emit("pre")}}}),n("div",{staticClass:"collect",on:{click:function(t){return e.$emit("handlePlayListVisible")}}},[n("i",{staticClass:"iconfont icon-iconsMusicyemianbofangmoshiPlayList collect-icon"})]),n("div",{staticClass:"like",class:e.running,on:{click:e.likeMode}},[n("span",{staticClass:"iconfont like-icon",class:e.likeClass})])],1),n("PlayerProgressBar",{attrs:{duration:e.duration,currentTime:e.currentTime,lyricKeys:e.lyricKeys,LyricScrollY:e.LyricScrollY,debounce:e.debounce},on:{progressBar:function(t){return e.audio.currentTime=t},"update:LyricScrollY":function(t){e.LyricScrollY=t},"update:lyric-scroll-y":function(t){e.LyricScrollY=t},"update:debounce":function(t){e.debounce=t}}})],1),n("div",{directives:[{name:"lazy",rawName:"v-lazy:background-image",value:e.currrenSong.picUrl,expression:"currrenSong.picUrl",arg:"background-image"}],staticClass:"blurBg",class:e.visibleAllLyric?"":"filterNone"}),n("div",{staticClass:"blurBgMask"})])},k=[],P=(n("a623"),n("4de4"),n("4160"),n("b0c0"),n("d3b7"),n("ac1f"),n("5319"),n("159b"),n("ddb0"),{}),_=n("2795");_.keys().forEach((function(e){var t=_(e);t=t.default||t;var n=t.name||e.replace(/^.+\//,"").replace(/\.\w+$/,"");P[n]=t}));var w=P,O={name:"NormalPlayer",components:w,props:{palyStatus:String,animationStatus:String,currentTime:Number,duration:Number,audio:[Object,String,HTMLAudioElement],swichMode:[Object,String],lyricKeys:Array,currentLyric:[Object,String]},data:function(){return{visibleAllLyric:!0,running:"",flag:null,activeLyricIndex:"0",LyricScrollY:0,debounce:!1}},computed:Object(s["a"])({likeClass:function(e){var t=e.currrenSong,n=e.likeList,i=n.every((function(e){return e.id!==t.id}));return i?"icon-shoucang1":"icon-shoucang active_red"}},Object(c["c"])(["currrenSong","playing","fullScreen","likeList"])),updated:function(){console.log("normal")},watch:{currentTime:function(e){if(this.currentLyric&&this.fullScreen)if(this.lyricKeys[this.LyricScrollY]>Math.floor(e))this.debounce&&(this.activeLyricIndex=this.lyricKeys[this.LyricScrollY-1],this.scrollAnimate(this.LyricScrollY),this.debounce=!1);else{var t=[];t=this.lyricKeys.filter((function(t){return t<=Math.floor(e)})),this.LyricScrollY=t.length,this.activeLyricIndex=t.pop(),this.scrollAnimate(this.LyricScrollY)}}},mounted:function(){this.el=this.$refs.lyric.$refs.lyricList},methods:Object(s["a"])({scrollAnimate:function(){var e=this;this.$nextTick((function(){var t=e.el.scrollTop,n=document.querySelector(".active-lyric"),i=n.offsetTop,r=n.offsetHeight;Object(f["c"])(e.el,t,i-150-r)}))},scrollToSmooth:function(){Object(f["d"])(this.el,0)},likeMode:function(){var e=this;this.flag||(this.running="running",this.flag=setTimeout((function(){e.running="",e.flag=null}),300));var t=this.likeList,n=t.findIndex((function(t){return t.id===e.currrenSong.id}));n>-1?t.splice(n,1):t.unshift(this.currrenSong),localStorage.setItem("likeList",JSON.stringify(t)),this.setLikeList(t),this.$once("hook:beforeDestroy",(function(){clearTimeout(this.flag)}))}},Object(c["d"])(["setPlaying","setLikeList"]))},j=O,M=(n("4eca"),Object(L["a"])(j,x,k,!1,null,null,null)),$=M.exports,I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"playlist"},[n("div",{staticClass:"mask",on:{click:function(t){return t.preventDefault(),e.$emit("update:visiblePlayList",!1)}}}),n("div",{staticClass:"item-list"},[n("div",{staticClass:"playlist-mask"}),n("div",{staticClass:"list-title"},[n("div",{staticClass:"mode",staticStyle:{color:"#169af3"}},[n("i",{staticClass:"iconfont  mode-icon",class:e.swichMode.icon}),n("span",{on:{click:e.handleMode}},[e._v(e._s(e.swichMode.text))])]),n("div",{staticClass:"empty",on:{click:e.clearAll}},[n("span",[e._v("清空全部")]),n("i",{staticClass:"iconfont icon-shanchu"})])]),n("ul",{ref:"scrollBar",staticClass:"playlist-main"},e._l(e.playList,(function(t,i){return n("li",{key:i,ref:"scrollItem",refInFor:!0,staticClass:"ellipsis",on:{click:function(t){return t.stopPropagation(),function(){return e.setCurrrentIndex(i)}()}}},[n("div",{staticClass:"pic"},[t.id===e.currrenSong.id?[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.currrenSong.picUrl,expression:"currrenSong.picUrl"}]})]:[n("span",{staticClass:"play-index",staticStyle:{color:"#fff"}},[e._v(" "+e._s(i+1)+" ")])]],2),n("div",{staticClass:"name",class:{fontActive:t.id===e.currrenSong.id}},[n("p",{staticClass:"ellipsis"},[e._v(e._s(t.name))]),n("span",{class:{fontActive:t.id===e.currrenSong.id}},[e._v(e._s(t.singer))])]),n("i",{staticClass:"iconfont icon-shanchu",staticStyle:{color:"#fff"},on:{click:function(n){return n.stopPropagation(),e.del(t)}}})])})),0)])])},A=[],T={name:"PlayerList",props:{swichMode:{type:[Object,String]}},data:function(){return{mode:0}},computed:Object(s["a"])({},Object(c["c"])(["playList","currrenSong"])),mounted:function(){this.scrollBar=this.$refs.scrollBar,this.scrollItem=this.$refs.scrollItem},updated:function(){console.log("PlayerList")},methods:Object(s["a"])(Object(s["a"])({getActiveItemDistancce:function(){var e=this;this.$nextTick((function(){var t=e.playList.findIndex((function(t){return t.id===e.currrenSong.id})),n=e.scrollItem[t].offsetTop-(e.scrollBar.offsetHeight-e.scrollItem[t].offsetHeight)/2;Object(f["d"])(e.scrollBar,n)}))},handleMode:function(){this.mode++,this.mode>2&&(this.mode=0),this.$emit("changeMode",this.mode)},clearAll:function(){var e=this;this.$MessageBox({title:"",content:"是否要删除全部"}).then((function(){e.emptyList(),e.$emit("update:visiblePlayList",!1),e.$emit("stopPlay")})).catch((function(){}))},del:function(e){this.delSong(e),0===this.playList.length&&(this.$emit("update:visiblePlayList",!1),this.$emit("stopPlay"))}},Object(c["d"])(["setCurrrentIndex"])),Object(c["b"])(["delSong","emptyList"]))},N=T,E=(n("b4ef"),Object(L["a"])(N,I,A,!1,null,"634f2c8d",null)),B=E.exports,q=(n("3c43"),{0:{icon:"icon-iconsMusicyemianbofangmoshiRepeat",text:"顺序播放"},1:{icon:"icon-iconsMusicyemianbofangmoshiAlrepeatOne",text:"单曲循环"},2:{icon:"icon-iconsMusicyemianbofangmoshiShuffle",text:"随机播放"}}),R=100,F={name:"Player",components:{MiniPlayer:C,NormalPlayer:$,PlayList:B},data:function(){return{src:"",visiblePlayList:!1,duration:0,currentTime:0,songReady:!1,currentLyric:{},lyricKeys:[],playMode:d,audio:""}},computed:Object(s["a"])({palyStatus:function(e){var t=e.playing;return t?"icon-bofangzanting":"icon-bofangsanjiaoxing"},animationStatus:function(e){var t=e.playing;return t?"":"animation_pause"},swichMode:function(e){var t=e.mode;return q[t]},percent:function(e){var t=e.currentTime,n=e.duration;return t/n}},Object(c["c"])(["currrenSong","playList","currrentIndex","playing","fullScreen","mode","sequenceList","playHistory"])),updated:function(){console.log(222)},mounted:function(){this.audio=this.$refs.audio},watch:{currrenSong:function(e,t){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(e.id){i.next=2;break}return i.abrupt("return");case 2:if(e.id!==t.id){i.next=4;break}return i.abrupt("return");case 4:return i.next=6,m(e.id);case 6:if(r=i.sent,n.getLyric(e.id),r.data[0].url){i.next=11;break}return n.next(),i.abrupt("return");case 11:n.src=r.data[0].url,n.$nextTick((function(){n.audio.play()})),n.setPlaying(!0),n.fullScreen&&(n.$refs.normal.scrollToSmooth(),n.$refs.normal.LyricScrollY=0);case 15:case"end":return i.stop()}}),i)})))()}},methods:Object(s["a"])({getLyric:function(e){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var i,r,a,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,y(e);case 2:if(i=n.sent,i.lrc){n.next=6;break}return t.currentLyric="",n.abrupt("return");case 6:for(s in r=Object(f["b"])(i.lrc.lyric),a={},r)r[s]&&(a[s]=r[s]);t.currentLyric=Object.freeze(a),t.lyricKeys=Object.keys(a);case 11:case"end":return n.stop()}}),n)})))()},ready:function(){var e=this,t=this.playHistory,n=t.findIndex((function(t){return t.id===e.currrenSong.id}));n>-1&&t.splice(n,1),t.length>R&&t.pop(),t.unshift(this.currrenSong),localStorage.setItem("playHistory",JSON.stringify(t)),this.setPlayHistory(t),this.songReady=!0},canplay:function(){var e=this;this.$nextTick((function(){e.duration=e.audio.duration}))},handlePlayListVisible:function(){var e=this;this.visiblePlayList=!0,this.$nextTick((function(){var t=e.$refs.playList;t.getActiveItemDistancce()}))},changeMode:function(e){console.log(e),this.mode!==e&&(this.setMode(e),this.getNewList(e))},getNewList:function(e){var t=null;t=e===d.random?Object(f["e"])(this.sequenceList):this.sequenceList,this.resetCurrentIndex(t),this.setPlay(t)},resetCurrentIndex:function(e){var t=this,n=e.findIndex((function(e){return e.id===t.currrenSong.id}));this.setCurrrentIndex(n)},end:function(){1===this.playList.length&&this.setMode(d.loop),this.mode===d.loop?this.loop():this.next()},loop:function(){this.audio.currentTime=0,this.audio.play(),this.currentLyric&&this.el.scrollTo(0,0)},pre:function(){if(this.songReady){var e=this.currrentIndex-1;-1===e&&(e=this.playList.length-1),this.setCurrrentIndex(e),this.songReady=!1}},pause:function(){this.setPlaying(!this.playing),this.playing?this.audio.play():this.audio.pause()},next:function(){if(console.log(111),this.songReady){var e=this.currrentIndex+1;e===this.playList.length&&(e=0),this.setCurrrentIndex(e),this.songReady=!1}}},Object(c["d"])(["setCurrrentIndex","setPlaying","setMode","setPlay","setPlayHistory"]))},H=F,Y=(n("ef76"),Object(L["a"])(H,o,l,!1,null,"6a1ef155",null)),D=Y.exports,U={name:"App",components:{Player:D},computed:Object(s["a"])({},Object(c["c"])(["playList"]))},z=U,K=(n("7018"),Object(L["a"])(z,r,a,!1,null,"23c41786",null)),X=K.exports,J=n("8c4f"),V=n("323e"),W=n.n(V);n("a5d8");W.a.configure({showSpinner:!1}),i["a"].use(J["a"]);var G=new J["a"]({routes:[{path:"/",redirect:"/recommend"},{path:"/rank",component:function(){return n.e("rank").then(n.bind(null,"389a"))}},{path:"/recommend",component:function(){return n.e("recommend").then(n.bind(null,"c0c7"))}},{path:"/singers",component:function(){return n.e("rank").then(n.bind(null,"3c8b"))}},{path:"/user",component:function(){return n.e("user").then(n.bind(null,"e382"))}},{path:"/details/:id",component:function(){return n.e("detail").then(n.bind(null,"cfeb"))}},{path:"/search",component:function(){return n.e("search").then(n.bind(null,"efe3"))}}],scrollBehavior:function(){return{y:0}}});G.beforeEach((function(e,t,n){W.a.start(),n()})),G.afterEach((function(){W.a.done()}));var Q=G,Z=n("2909");i["a"].use(c["a"]);var ee=new c["a"].Store({state:{axiosList:{},singer:{},currrentIndex:-1,playList:[],playing:!1,fullScreen:!1,sequenceList:[],mode:d.sequence,historyList:JSON.parse(localStorage.getItem("history"))||[],likeList:JSON.parse(localStorage.getItem("likeList"))||[],playHistory:JSON.parse(localStorage.getItem("playHistory"))||[]},getters:{playHistory:function(e){return e.playHistory},likeList:function(e){return e.likeList},singer:function(e){return e.singer},sequenceList:function(e){return e.sequenceList},mode:function(e){return e.mode},currrenSong:function(e){return e.playList[e.currrentIndex]||{}},playList:function(e){return e.playList},currrentIndex:function(e){return e.currrentIndex},playing:function(e){return e.playing},fullScreen:function(e){return e.fullScreen},historyList:function(e){return e.historyList}},mutations:{setAxiosList:function(e,t){e.axiosList=Object.assign(e.axiosList,t)},clearAxiosList:function(e){e.axiosList={}},setPlayHistory:function(e,t){e.playHistory=t},setLikeList:function(e,t){e.likeList=t},setHistoryList:function(e,t){e.historyList=t},setSinger:function(e,t){e.singer=t},setCurrrentIndex:function(e,t){e.currrentIndex=t},setPlay:function(e,t){e.playList=t},setPlaying:function(e,t){e.playing=t},setFullScreen:function(e,t){e.fullScreen=t},setMode:function(e,t){e.mode=t},setSequenceList:function(e,t){e.sequenceList=t}},actions:{delSong:function(e,t){var n=e.commit,i=e.state,r=Object(Z["a"])(i.playList),a=Object(Z["a"])(i.sequenceList),s=i.currrentIndex,c=r.findIndex((function(e){return e.id===t.id}));r.splice(c,1);var o=a.findIndex((function(e){return e.id===t.id}));a.splice(o,1),(s>c||s===r.length)&&s--,n("setPlay",r),n("setSequenceList",a),n("setCurrrentIndex",s),0===r.length&&n("setPlaying",!1)},emptyList:function(e){var t=e.commit;t("setPlay",[]),t("setSequenceList",[]),t("setCurrrentIndex",-1),t("setPlaying",!1),t("setFullScreen",!1)}}}),te=ee,ne=n("caf9"),ie=(n("9f57"),n("0748"),n("758b"),n("a342"),n("0b9a"));ie.keys().forEach((function(e){var t=ie(e);t=t.default||t;var n=t.name||e.replace(/^.+\//,"").replace(/\.\w+$/,"");i["a"].component(n,t)}));var re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"confirm-fade"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"confirm",on:{click:function(t){return t.stopPropagation(),e.clickCancel(t)}}},[n("div",{staticClass:"confirm-wrapper"},[n("div",{staticClass:"confirm-content"},[n("p",{staticClass:"text"},[e._v(e._s(e.content))]),n("div",{staticClass:"operate"},[n("div",{staticClass:"operate-btn left",on:{click:e.clickCancel}},[e._v(" 取消 ")]),n("div",{staticClass:"operate-btn",on:{click:e.clickConfirm}},[e._v("确定")])])])])])])},ae=[],se={name:"MessageBox",data:function(){return{visible:!1,title:"提示",content:"内容",resolve:"",reject:"",promise:""}},methods:{clickConfirm:function(){this.visible=!1,this.resolve("confirm")},clickCancel:function(){this.visible=!1,this.reject("cancel")},showMsgBox:function(){var e=this;return new Promise((function(t,n){e.resolve=t,e.reject=n}))}}},ce=se,oe=(n("1d1a"),Object(L["a"])(ce,re,ae,!1,null,"8fc77ae8",null)),le=oe.exports,ue=function(e){var t=e.extend(le),n=new t;n.$mount(),document.body.appendChild(n.$el),e.prototype.$MessageBox=function(e){var t=e.title,i=e.content;return n.visible=!0,n.title=t,n.content=i,n.showMsgBox()}},de=n("9483");Object(de["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),i["a"].use(ne["a"],{loading:n("6b75")}),i["a"].use(ue),i["a"].config.productionTip=!1,new i["a"]({render:function(e){return e(X)},store:te,router:Q,components:{App:X}}).$mount("#app")},"5a81":function(e,t,n){},"650a":function(e,t,n){},"6b75":function(e,t,n){e.exports=n.p+"img/default.cca7741d.jpg"},7018:function(e,t,n){"use strict";var i=n("b7d8"),r=n.n(i);r.a},"758b":function(e,t){(function(e,t){var n=t.documentElement,i=e.devicePixelRatio||1;function r(){t.body?t.body.style.fontSize=12*i+"px":t.addEventListener("DOMContentLoaded",r)}function a(){var e=n.clientWidth/10;n.style.fontSize=e+"px"}if(r(),a(),e.addEventListener("resize",a),e.addEventListener("pageshow",(function(e){e.persisted&&a()})),i>=2){var s=t.createElement("body"),c=t.createElement("div");c.style.border=".5px solid transparent",s.appendChild(c),n.appendChild(s),1===c.offsetHeight&&n.classList.add("hairlines"),n.removeChild(s)}})(window,document)},"7ef0":function(e,t,n){"use strict";var i=n("650a"),r=n.n(i);r.a},"81bb":function(e,t,n){"use strict";n.r(t);var i=function(e,t){var n=t._c;return n("ul",{staticClass:"nav-conainer"},t._l(t.props.navList,(function(e){return n("router-link",{key:e.name,staticClass:"nav-item",attrs:{to:e.to}},[n("span",[t._v(t._s(e.name))])])})),1)},r=[],a={name:"BaseNav",props:{navList:{type:Array,default:function(){return[{name:"推荐",to:"/recommend"},{name:"排行榜",to:"/rank"},{name:"歌手",to:"/singers"},{name:"我",to:"/user"}]}}}},s=a,c=(n("ab0b"),n("2877")),o=Object(c["a"])(s,i,r,!0,null,"19d69376",null);t["default"]=o.exports},8360:function(e,t,n){},8838:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"normal-player-header"},[n("div",{staticClass:"normal-player-header-title"},[n("p",{staticClass:"ellipsis normal-player-header-song_name"},[e._v(" "+e._s(e.currrenSong.name)+" ")]),n("span",{staticClass:"ellipsis normal-player-header-singer_name"},[e._v(e._s(e.currrenSong.singer))])]),n("div",{staticClass:"normal-player-header-return",on:{click:function(t){return e.setFullScreen(!1)}}},[n("span",{staticClass:"iconfont icon-iconfont2 normal-player-header-icon"})])])},r=[],a=n("5530"),s=n("2f62"),c={name:"PlayerTitle",computed:Object(a["a"])({},Object(s["c"])(["currrenSong"])),methods:Object(a["a"])({},Object(s["d"])(["setFullScreen"]))},o=c,l=(n("9943"),n("2877")),u=Object(l["a"])(o,i,r,!1,null,"4ec4412c",null);t["default"]=u.exports},"8f35":function(e,t,n){},"971e":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"circle",class:{rotateY:!e.visibleAllLyric},on:{click:function(t){return t.stopPropagation(),e.$emit("update:visibleAllLyric",!1)}}},[n("div",{staticClass:"bgc",class:[e.animationStatus,{animation_none:!e.visibleAllLyric}]},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.$store.getters.currrenSong.picUrl,expression:"$store.getters.currrenSong.picUrl"}],staticClass:"bgc-img",attrs:{alt:""}})]),n("p",{staticClass:"currrent_lyric"},[e._v(e._s(e.playingLyric))]),e.currentLyric?e._e():n("div",{staticClass:"no-lyric"},[e._v("暂无歌词")])])},r=[],a={name:"PlayerCircle",props:{currentLyric:[Object,String],animationStatus:String,playingLyric:String,visibleAllLyric:Boolean},updated:function(){console.log("circle")}},s=a,c=(n("439b"),n("2877")),o=Object(c["a"])(s,i,r,!1,null,"752c749e",null);t["default"]=o.exports},9943:function(e,t,n){"use strict";var i=n("5a81"),r=n.n(i);r.a},"9f57":function(e,t,n){},a342:function(e,t,n){},ab0b:function(e,t,n){"use strict";var i=n("5582"),r=n.n(i);r.a},b4ef:function(e,t,n){"use strict";var i=n("8f35"),r=n.n(i);r.a},b52e:function(e,t,n){},b7d8:function(e,t,n){},c4cb:function(e,t,n){"use strict";n.r(t);var i=function(e,t){var n=t._c;return n("div",{staticClass:"control"},[n("i",{staticClass:"pre iconfont icon-next control-icon",on:{click:function(e){return e.stopPropagation(),t.listeners.pre(e)}}}),n("i",{staticClass:"pause iconfont  control-icon",class:t.props.palyStatus,on:{click:function(e){return e.stopPropagation(),t.listeners.pause(e)}}}),n("i",{staticClass:"next iconfont icon-next  control-icon",on:{click:function(e){return e.stopPropagation(),t.listeners.next(e)}}})])},r=[],a={name:"PlayerControl",props:{palyStatus:{type:String,defaule:""}},updated:function(){console.log("PlayerControl")}},s=a,c=(n("c4d0"),n("2877")),o=Object(c["a"])(s,i,r,!0,null,"5d88df6b",null);t["default"]=o.exports},c4d0:function(e,t,n){"use strict";var i=n("fe0d"),r=n.n(i);r.a},c696:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"lyric",class:{rotateY:!e.visibleAllLyric},on:{click:function(t){return t.stopPropagation(),e.$emit("update:visibleAllLyric",!0)}}},[n("div",{ref:"lyricList",staticClass:"lyric-item",class:{visible:e.visibleAllLyric}},[n("div",{ref:"empty",staticClass:"empty"}),e.currentLyric?e._e():n("div",{staticClass:"no-lyric"},[e._v("暂无歌词")]),e._l(e.currentLyric,(function(t,i){return n("p",{key:i,ref:"lyricLine",refInFor:!0,class:{"active-lyric":i===e.activeLyricIndex}},[e._v(" "+e._s(t)+" ")])})),n("div",{staticClass:"empty"})],2)])},r=[],a={name:"PlayerLyric",props:{currentLyric:[Object,String],activeLyricIndex:String,visibleAllLyric:Boolean},updated:function(){console.log("PlayerLyric")}},s=a,c=(n("4708"),n("2877")),o=Object(c["a"])(s,i,r,!1,null,"1374c064",null);t["default"]=o.exports},d0e9:function(e,t,n){},e3ea:function(e,t,n){"use strict";var i=n("f46c"),r=n.n(i);r.a},ed08:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return r})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return c}));n("99af"),n("7db0"),n("fb6a"),n("a9e3"),n("ac1f"),n("466d"),n("5319"),n("1276");function i(e,t){var n=e.slice();if(0===n.length)n.push(t);else{var i=n.find((function(e){return e.id===t.id}));i||n.unshift(t)}return n}function r(e){for(var t=e.slice(),n=0;n<e.length;n++){var i=o(0,n),r=t[n];t[n]=t[i],t[i]=r}return t}function a(e){for(var t=e.split("\n"),n={},i=0;i<t.length;i++){var r=decodeURIComponent(t[i]),a=/\[\d*:\d*((\.|\:)\d*)*\]/g,s=r.match(a);if(s)for(var c=r.replace(a,""),o=0,l=s.length;o<l;o++){var u=s[o],d=Number(String(u.match(/\[\d*/i)).slice(1)),f=Number(String(u.match(/\:\d*/i)).slice(1)),p=60*d+f;n[p]=c}}return n}function s(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,r=n-t,a=20,s=0,c=function n(){s+=a;var c=u(s,t,r,i);e.scrollTop=c,s<i&&l(n)};c()}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.scrollTo({top:t,behavior:n?"smooth":"instant"})}function o(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var l=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();function u(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t}},ef76:function(e,t,n){"use strict";var i=n("b52e"),r=n.n(i);r.a},f46c:function(e,t,n){},f509:function(e,t,n){"use strict";var i=n("fe32"),r=n.n(i);r.a},fe0d:function(e,t,n){},fe32:function(e,t,n){}});
//# sourceMappingURL=app.30cd9e11.js.map