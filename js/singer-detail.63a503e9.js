(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["singer-detail"],{"019d":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"detail-container"},[i("BaseBack",{attrs:{background:e.background,title:e.name,color:"#fff"}}),i("SingerInfo",{attrs:{info:e.info}}),i("BaseTabs",{ref:"tabs",attrs:{navList:e.navList,active:e.active,position:"sticky",top:"1.33rem",count:e.info,color:"#a7a3a3",lineColor:"#000",lineWidth:"45px",lineHeight:"2px"},on:{tabs:e.handleScroll,change:e.handleChange}}),i("main",{staticClass:"detail-main"},[e.navList.length>0?i("swiper",{ref:"mySwiper",attrs:{options:e.swiperOptions}},e._l(e.navList,(function(t){return i("swiper-slide",{key:t.id,attrs:{"data-id":t.targetId}},[i(e.currentTabComponent(t.id),{ref:"singerDetail",refInFor:!0,tag:"component",attrs:{active:e.active,cover:e.info.cover}})],1)})),1):e._e()],1)],1)},s=[],a=(i("a15b"),i("b0c0"),i("96cf"),i("1da1")),r=i("5530"),c=i("2f62"),o=i("7f5c"),l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"singer-info",style:{backgroundImage:"url("+e.info.cover+")"}},[i("div",{staticClass:"singer-info-wrap"},[i("div",{staticClass:"singer-info-name"},[e._v(e._s(e.info.name))]),e.info.identifyTag?i("div",{staticClass:"singer-info-identify"},[i("img",{staticClass:"singer-info-figure",attrs:{src:e.info.identify.imageUrl,alt:""}}),i("span",{staticClass:"singer-info-identifyTag"},[e._v(e._s(e.info.identifyTag))])]):e._e(),e.info.identify.imageDesc?i("p",{staticClass:"singer-info-desc"},[e._v(" "+e._s(e.info.identify.imageDesc)+" ")]):e._e(),e._m(0)]),e._t("default")],2)},u=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"singer-info-action"},[i("span",{staticClass:"singer-info-btn singer-info-follow"},[e._v(" + 关注")]),i("span",{staticClass:"singer-info-btn singer-info-twitter iconfont icon-duanxin"},[e._v(" 私信")])])}],m={name:"SingerInfo",props:{info:{type:Object}}},g=m,f=(i("5fbc"),i("2877")),d=Object(f["a"])(g,l,u,!1,null,"35694c5a",null),p=d.exports,v=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"singer-about",class:3==e.active?"auto-height":"fixed-height"},[e.info.briefDesc?i("section",{staticClass:"singer-about-info"},[i("h2",[e._v("歌手资料")]),i("div",{staticClass:"singer-about-briefDesc"},[e._v(e._s(e.info.briefDesc))])]):e._e(),e.info.topicData.length?i("section",{staticClass:"singer-about-represent"},[i("h2",[e._v("代表作品")]),e._l(e.info.topicData,(function(t){return i("div",{key:t.id,staticClass:"singer-about-represent-item"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.coverUrl,expression:"item.coverUrl"}],staticClass:"singer-about-represent-left",attrs:{alt:""}}),i("div",{staticClass:"singer-about-represent-right"},[i("p",{staticClass:"singer-about-represent-mainTitle"},[e._v(e._s(t.mainTitle))]),i("p",{staticClass:"singer-about-represent-tag ellipsis"},[e._v(" 标签: "+e._s(t.tags.join(","))+" ")]),i("span",{staticClass:"singer-about-represent-read "},[e._v(e._s(t.categoryName||"")+", 阅读 "+e._s(e._f("filterNum")(t.readCount)))])])])}))],2):e._e(),e.simiArtists.length?i("section",{staticClass:"singer-about-samilar",on:{touchmove:function(e){e.stopPropagation()},touchstart:function(e){e.stopPropagation()},scroll:function(e){e.stopPropagation()}}},[i("h2",[e._v("相似歌手")]),i("div",{staticClass:"singer-about-samilar-main"},[i("div",{staticClass:"singer-about-samilar-scroller"},[i("ul",{staticClass:"singer-about-samilar-wrap"},e._l(e.simiArtists,(function(t){return i("li",{key:t.id,staticClass:"singer-about-samilar-item"},[i("router-link",{attrs:{to:"/singer/"+t.id}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.img1v1Url,expression:"item.img1v1Url"}],staticClass:"singer-about-samilar-figure",attrs:{alt:""}}),i("span",{staticClass:"singer-about-samilar-name"},[e._v(e._s(t.name))])])],1)})),0)])])]):e._e()])},b=[],h=(i("a9e3"),{name:"SingerAbout",props:{active:{type:[String,Number],default:"0"}},data:function(){return{info:{topicData:[],briefDesc:""},simiArtists:[]}},created:function(){return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},methods:{getDetail:function(){var e=this.$route.params.id;this.getSingerInfo(e),this.getSimiSinger(e)},getSingerInfo:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n,s,a,r;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(o["b"])(e);case 2:n=i.sent,s=n.code,a=n.topicData,r=n.briefDesc,200==s&&(t.info={topicData:a,briefDesc:r});case 7:case"end":return i.stop()}}),i)})))()},getSimiSinger:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function i(){var n,s,a;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,Object(o["e"])(e);case 2:n=i.sent,s=n.artists,a=n.code,200==a&&(t.simiArtists=s);case 6:case"end":return i.stop()}}),i)})))()}}}),_=h,C=(i("0a28"),Object(f["a"])(_,v,b,!1,null,"633b75f0",null)),S=C.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"singer-album",class:1==e.active?"auto-height":"fixed-height"},[i("ul",{staticClass:"singer-album-wrap"},e._l(e.albums,(function(t){return i("router-link",{key:t.id,staticClass:"singer-album-item",attrs:{tag:"li",to:"/album/"+t.id}},[i("div",{staticClass:"singer-album-left"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"item.picUrl"}],staticClass:"singer-album-figure",attrs:{alt:""}})]),i("div",{staticClass:"singer-album-right"},[i("p",{staticClass:"singer-album-name ellipsis"},[e._v(e._s(t.name))]),i("p",{staticClass:"singer-album-publishTime"},[i("span",[e._v(e._s(e._f("parseTime")(t.publishTime,"{y}-{m}-{d}")))]),i("span",{staticClass:"singer-album-size"},[e._v(e._s(t.size)+"首")])])]),i("span",{staticClass:"iconfont icon-youjiantou"})])})),1)])},w=[],x={name:"SingerAblum",props:{active:{type:[String,Number],default:"0"}},data:function(){return{albums:[]}},methods:{getDetail:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["a"])(e.$route.params.id);case 2:i=t.sent,n=i.hotAlbums,e.albums=n;case 5:case"end":return t.stop()}}),t)})))()}}},j=x,O=(i("50e1"),Object(f["a"])(j,y,w,!1,null,"0a8a208a",null)),D=O.exports,k=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"singer-songs",class:0==e.active?"auto-height":"fixed-height"},[i("BaseSongList",{attrs:{songs:e.songs},on:{player:e.player}})],1)},T=[],z=(i("2b19"),i("01ea")),L={name:"SingerHotSong",props:{active:{type:[String,Number],default:"0"},cover:String},data:function(){return{songs:[]}},computed:Object(r["a"])({},Object(c["c"])(["playList","fullScreen"])),methods:Object(r["a"])({getDetail:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i,n,s,a,r,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.$route.params.id,t.next=3,Object(o["f"])(i);case 3:for(n=t.sent,s=n.songs,a=[],r=0,c=s.length;r<c;r++)l={id:s[r]["id"],name:s[r]["name"],album:s[r]["al"]["name"],alia:s[r]["alia"]||[],artists:s[r]["ar"],publishTime:s[r]["publishTime"],picUrl:s[r]["al"]["picUrl"],privilege:{pl:s[r]["privilege"]["pl"],fee:s[r]["fee"],flag:s[r]["privilege"]["flag"],maxbr:s[r]["privilege"]["maxbr"]}},a.push(new z["a"](l));e.songs=a;case 8:case"end":return t.stop()}}),t)})))()},player:function(e,t){this.$drop(t),Object.is(this.songs,this.playList)||(this.setPlay(this.songs),this.setSequenceList(this.songs)),this.setCurrrentIndex(e)}},Object(c["d"])(["setCurrrentIndex","setPlay","setFullScreen","setSequenceList"]))},$=L,I=(i("1b6b"),Object(f["a"])($,k,T,!1,null,"18f9a976",null)),E=I.exports,R=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"singer-mv",class:2==e.active?"auto-height":"fixed-height"},e._l(e.mvs,(function(t){return i("section",{key:t.id,staticClass:"singer-mv-section"},[i("div",{staticClass:"singer-mv-wrap"},[i("div",{staticClass:"singer-mv-main",style:{backgroundImage:"url("+t.imgurl+")"}}),i("div",{staticClass:"singer-mv-figure"},[i("img",{staticClass:"singer-mv-img",attrs:{src:t.imgurl,alt:""}}),i("span",{staticClass:"singer-mv-border"}),i("span",{staticClass:"singer-mv-border"}),i("span",{staticClass:"singer-mv-border"}),i("span",{staticClass:"singer-mv-border"})]),i("div",{staticClass:"singer-mv-desc"},[i("span",[e._v(e._s(t.publishTime))]),i("span",[e._v(e._s(e._f("format")(t.duration/1e3)))])])]),i("div",{staticClass:"singer-mv-info"},[i("p",{staticClass:"singer-mv-name ellipsis"},[e._v(" "+e._s(t.name)+" ")]),i("p",{staticClass:"singer-mv-count"},[i("span",{staticClass:"iconfont icon-erji"}),e._v(" "+e._s(e._f("filterNum")(t.playCount))+" ")])])])})),0)},A=[],U={name:"SingerMV",props:{active:{type:[String,Number],default:"0"}},data:function(){return{mvs:[]}},methods:{getDetail:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(o["d"])(e.$route.params.id);case 2:i=t.sent,n=i.code,s=i.mvs,200==n&&(e.mvs=s);case 6:case"end":return t.stop()}}),t)})))()}}},N=U,P=(i("782b"),Object(f["a"])(N,R,A,!1,null,"47d3ddb1",null)),B=P.exports,H={1:"SingerHotSong",2:"SingerAlbum",3:"SingerMV",4:"SingerAbout"},M={name:"SingerDetail",components:{SingerAbout:S,SingerAlbum:D,SingerHotSong:E,SingerMV:B,SingerInfo:p},data:function(){var e=this;return{active:0,background:"",name:"",navList:[{id:1,name:"歌曲",icon:"musicSize"},{id:2,name:"专辑",icon:"albumSize"},{id:3,name:"视频",icon:"mvSize"},{id:4,name:"关于TA",icon:""}],scrollList:{},swiperOptions:{on:{slideChange:function(){e.active=e.swiper.activeIndex}},loop:!1,watchSlidesVisibility:!0},info:{cover:"",albumSize:"",identifyTag:"",musicSize:"",mvSize:"",name:"",identify:{imageDesc:"",imageUrl:""}}}},computed:Object(r["a"])({swiper:function(){return this.$refs.mySwiper.swiper},currentTabComponent:function(){return function(e){return H[e]}}},Object(c["c"])(["playList","currrenSong","fullScreen","singer","currrentIndex"])),created:function(){this.getSingerInfo()},mounted:function(){var e=this;this.singerDetail=this.$refs.singerDetail,this.singerDetail[0].getDetail(),this.$refs.tabs.init(),document.addEventListener("scroll",this.scroll),this.$once("beforeDestory",(function(){return document.addEventListener("scroll",e.scroll)}))},methods:Object(r["a"])({getSingerInfo:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var i,n,s,a,r,c,l,u,m,g,f,d,p,v;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=e.$route.params.id,t.next=3,Object(o["c"])(i);case 3:n=t.sent,s=n.code,a=n.data,r=a.artist,c=a.identify,l=void 0===c?{imageDesc:"",imageUrl:""}:c,200==s&&(u=r.cover,m=r.albumSize,g=r.identifyTag,f=void 0===g?[]:g,d=r.musicSize,p=r.mvSize,v=r.name,e.info={cover:u,albumSize:m,identifyTag:f&&f.join(" / ")||"",musicSize:d,mvSize:p,name:v,identify:l});case 10:case"end":return t.stop()}}),t)})))()},scroll:function(){this.background="rgba(0,0,0,".concat(Math.min(document.documentElement.scrollTop/150,1),")"),document.documentElement.scrollTop>150?this.name=this.info.name:this.name=""},handleChange:function(e,t){console.log(e,t),this.singerDetail[e].getDetail(),document.documentElement.scrollTop<240?this.scrollList={}:(this.scrollList[t]=document.documentElement.scrollTop,document.documentElement.scrollTop=this.scrollList[e]||240)},handleScroll:function(e){this.active!=e&&this.swiper.slideTo(e,0,!1)}},Object(c["d"])(["setCurrrentIndex","setPlay","setFullScreen","setSequenceList"]))},V=M,q=(i("efec"),Object(f["a"])(V,n,s,!1,null,"f986d53a",null));t["default"]=q.exports},"0a28":function(e,t,i){"use strict";var n=i("98d5"),s=i.n(n);s.a},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},1312:function(e,t,i){},"1b6b":function(e,t,i){"use strict";var n=i("44c1"),s=i.n(n);s.a},"2b19":function(e,t,i){var n=i("23e7"),s=i("129f");n({target:"Object",stat:!0},{is:s})},"44c1":function(e,t,i){},"50e1":function(e,t,i){"use strict";var n=i("92c5"),s=i.n(n);s.a},"5fbc":function(e,t,i){"use strict";var n=i("ae60"),s=i.n(n);s.a},"782b":function(e,t,i){"use strict";var n=i("1312"),s=i.n(n);s.a},"92c5":function(e,t,i){},"98d5":function(e,t,i){},ae60:function(e,t,i){},efec:function(e,t,i){"use strict";var n=i("f329"),s=i.n(n);s.a},f329:function(e,t,i){}}]);
//# sourceMappingURL=singer-detail.63a503e9.js.map