{"version":3,"sources":["webpack:///./node_modules/core-js/internals/same-value.js","webpack:///./node_modules/core-js/modules/es.object.is.js","webpack:///./src/views/album/index.vue?7ddc","webpack:///src/views/album/index.vue","webpack:///./src/views/album/index.vue?9825","webpack:///./src/views/album/index.vue","webpack:///./src/api/album.js"],"names":["module","exports","Object","is","x","y","$","target","stat","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","title","info","opacity","songs","on","player","staticRenderFns","name","data","nickname","subscribedCount","commentCount","shareCount","description","coverImgUrl","avatarUrl","computed","created","getPlaylist","mounted","document","addEventListener","handldeScroll","methods","getArtist","artist","reduce","acc","push","cur","item","fee","$toast","$drop","ele","playList","setPlay","setSequenceList","setCurrrentIndex","index","documentElement","scrollTop","component","getAlbum","id","service","url","method","getAlbumNewset","getAlbumList","params","getAlbumNew","area","getAlbumSongsaleboard","getAlbumListStyle"],"mappings":"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","file":"js/album.94f67f3d.js","sourcesContent":["// `SameValue` abstract operation\n// https://tc39.github.io/ecma262/#sec-samevalue\nmodule.exports = Object.is || function is(x, y) {\n  // eslint-disable-next-line no-self-compare\n  return x === y ? x !== 0 || 1 / x === 1 / y : x != x && y != y;\n};\n","var $ = require('../internals/export');\nvar is = require('../internals/same-value');\n\n// `Object.is` method\n// https://tc39.github.io/ecma262/#sec-object.is\n$({ target: 'Object', stat: true }, {\n  is: is\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"album-container\"},[_c('BaseBack',{attrs:{\"background\":\"transparent\",\"title\":_vm.title,\"color\":\"#fff\"}}),_c('BaseBackGround',{attrs:{\"info\":_vm.info,\"opacity\":_vm.opacity}}),_c('BaseSongList',{attrs:{\"songs\":_vm.songs},on:{\"player\":_vm.player}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"album-container\">\n    <BaseBack background=\"transparent\" :title=\"title\" color=\"#fff\" />\n    <BaseBackGround :info=\"info\" :opacity=\"opacity\"/>\n    <BaseSongList :songs=\"songs\" @player=\"player\" />\n  </div>\n</template>\n<script>\n/*eslint-disable */\nimport { mapMutations, mapGetters } from 'vuex';\nimport { getAlbum } from '@/api/album';\nimport { Song } from '@/utils/config';\nexport default {\n  name: 'Album',\n  data() {\n    return {\n      songs: [], opacity: 1,\n      info: {\n        nickname: '',\n        subscribedCount: 0,\n        commentCount: 0,\n        shareCount: 0,\n        description: 0,\n        name: '',\n        coverImgUrl: '',\n        avatarUrl: '',\n      },\n      title:'专辑'\n    };\n  },\n  computed: {\n    ...mapGetters(['playList']),\n  },\n  created() {\n    this.getPlaylist();\n  },\n  mounted() {\n    document.addEventListener('scroll', this.handldeScroll);\n  },\n  methods: {\n    async getPlaylist() {\n      const { id } = this.$route.params;\n      const { code, songs, album } = await getAlbum(id);\n      const info = {\n        artist: (album.artists || []).map((item) => item.name).join('/'),\n        alias: (album.alias || []).join('/'),\n        subscribedCount: album.info.likedCount || 0,\n        commentCount: album.info.commentCount || 0,\n        shareCount: album.info.shareCount || 0,\n        description: album.description,\n        name: album.name,\n        coverImgUrl: album.picUrl,\n        publishTime: album.publishTime,\n        id: album.artist.id,\n      };\n      this.info = info;\n\n      let list = [];\n      for (let i = 0, length = songs.length; i < length; i++) {\n        const song = {\n          id: songs[i]['id'],\n          name: songs[i]['name'],\n          album: songs[i]['al']['name'],\n          artists: songs[i]['ar'],\n          picUrl: songs[i]['al']['picUrl'],\n          publishTime: album.publishTime,\n          alia: songs[i]['alia'] || [],\n          privilege: {\n            pl: songs[i]['privilege']['pl'],\n            fee: songs[i]['fee'],\n            flag: songs[i]['privilege']['flag'],\n            maxbr: songs[i]['privilege']['maxbr'],\n          },\n        };\n        list.push(new Song(song));\n      }\n      this.songs = list;\n    },\n    getArtist(artist) {\n      return artist.reduce((acc, cur) => {\n        acc.push(cur.name);\n        return acc;\n      }, []);\n    },\n    player(index, ele, item) {\n      if (item.fee == 1) {\n        this.$toast({ message: '此歌曲为vip歌曲, 因合作方要求,暂时无法播放' });\n      }\n      this.$drop(ele);\n\n      if (!Object.is(this.songs, this.playList)) {\n        this.setPlay(this.songs);\n        this.setSequenceList(this.songs);\n      }\n      this.setCurrrentIndex(index);\n    },\n    handldeScroll() {\n      this.opacity = 1 - document.documentElement.scrollTop / 200;\n      if (document.documentElement.scrollTop > 150) {\n        this.title = this.info.name;\n      } else {\n        this.title = \"专辑\";\n      }\n    },\n    ...mapMutations(['setCurrrentIndex', 'setPlay', 'setSequenceList']),\n  },\n};\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=000e7536&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import service from '../request/service';\n\nexport function getAlbum(id) {\n  return service({\n    url: `/album?id=${id}`,\n    method: 'get',\n  });\n}\nexport function getAlbumNewset() {\n  return service({\n    url: '/album/newest',\n    method: 'get',\n  });\n}\nexport function getAlbumList(params) {\n  return service({\n    url: '/album/list',\n    method: 'get',\n    params,\n  });\n}\nexport function getAlbumNew(area) {\n  return service({\n    url: `/album/new?area=${area}&limit=10`,\n    method: 'get',\n  });\n}\nexport function getAlbumSongsaleboard(params) {\n  return service({\n    url: 'album/songsaleboard',\n    params,\n    method: 'get',\n  });\n}\nexport function getAlbumListStyle(params) {\n  return service({\n    url: `/album/list/style`,\n    method: 'get',\n    params,\n  });\n}\n"],"sourceRoot":""}