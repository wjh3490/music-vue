(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["recommend"],{"324a":function(t,e,s){"use strict";s.d(e,"d",(function(){return a})),s.d(e,"c",(function(){return i})),s.d(e,"a",(function(){return r})),s.d(e,"b",(function(){return o}));var n=s("2b4c");function a(){return Object(n["a"])({url:"/personalized?limit=6",method:"get"})}function i(t){return Object(n["a"])({url:"/personalized/newsong",method:"get",params:t})}function r(){return Object(n["a"])({url:"/banner",method:"get"})}function o(t){return Object(n["a"])({url:"/song/detail?ids=".concat(t),method:"get"})}},"42e1":function(t,e,s){"use strict";var n=s("9e89"),a=s.n(n);a.a},"4d4e":function(t,e,s){"use strict";var n=s("6d9a"),a=s.n(n);a.a},"4dfc":function(t,e,s){"use strict";var n=s("d18d"),a=s.n(n);a.a},"5d81":function(t,e,s){},6546:function(t,e,s){},"6d9a":function(t,e,s){},"77a5":function(t,e,s){"use strict";s.d(e,"a",(function(){return a})),s.d(e,"b",(function(){return i}));var n=s("2b4c");function a(t){return Object(n["a"])({url:"playlist/detail?id=".concat(t),method:"get"})}function i(){return Object(n["a"])({url:"/toplist/detail",method:"get"})}},"7abe":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"recommend"},[s("HomeSearch"),s("div",{staticClass:"recommend-swiper"},[s("BaseSwiper",{attrs:{list:t.swiperList,options:t.swiperOptions,visible:!0},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return[s("div",{staticClass:"recommend-swiper-wrap",on:{click:function(e){return t.handleAction(n)}}},[s("img",{staticClass:"swiper-lazy swiper-img",attrs:{"data-index":n.targetId,"data-src":n.imageUrl}}),s("span",{staticClass:"recommend-swiper-title",style:{backgroundColor:t.colors[n.titleColor]}},[t._v(t._s(n.typeTitle))])]),s("div",{staticClass:"my-lazy-preloader"})]}}])})],1),s("BaseNav"),t.personalized.length?s("HomeList",{attrs:{list:t.personalized,link:!0}},[s("HomeMore",{attrs:{title:"推荐歌单",link:"/playlist"}})],1):t._e(),t.toplists.length?s("HomeTopList",{attrs:{list:t.toplists}},[s("HomeMore",{attrs:{title:"排行榜",link:"/rank"}})],1):t._e(),t.newsong.length?s("HomeNewSong",{attrs:{products:t.products,songs:t.newsong,albums:t.albums,tabs:t.tabs,activeTab:t.activeTab,palyStatus:t.palyStatus},on:{player:t.player}},[s("HomeMore",{attrs:{link:t.link,more:t.more}},[s("div",{staticClass:"home-newsong-tabs"},t._l(t.tabs,(function(e){return s("div",{key:e.tabIndex,staticClass:"home-newsong-tab",on:{click:function(s){return t.handleChange(e)}}},[s("strong",{staticClass:"home-newsong-tabs-name",class:{"home-newsong-active":t.activeTab==e.tabIndex}},[t._v(t._s(e.name))]),3!=e.tabIndex?s("span",{staticClass:"home-newsong-tabs-line"}):t._e()])})),0)])],1):t._e(),t.videos.length?s("HomeList",{attrs:{list:t.videos}},[s("HomeMore",{attrs:{title:"独家放送",link:""}})],1):t._e(),t.list.length?s("HomeList",{attrs:{list:t.list,round:""}},[s("HomeMore",[s("div",{staticClass:"home-newsong-tabs"},t._l(t.radio,(function(e){return s("div",{key:e.tabIndex,staticClass:"home-newsong-tab"},[s("strong",{staticClass:"home-newsong-tabs-name",class:{"home-newsong-active":t.activeRadio==e.tabIndex}},[t._v(t._s(e.name))]),2!=e.tabIndex?s("span",{staticClass:"home-newsong-tabs-line"}):t._e()])})),0)])],1):t._e(),t.mvs.length?s("HomeList",{attrs:{list:t.mvs}},[s("HomeMore",{attrs:{title:"热门MV",link:""}})],1):t._e()],1)},a=[],i=(s("99af"),s("4de4"),s("c740"),s("d81d"),s("13d5"),s("fb6a"),s("b0c0"),s("d3b7"),s("3ca3"),s("9911"),s("ddb0"),s("2909")),r=(s("96cf"),s("1da1")),o=s("5530"),l=s("2f62"),c=s("324a"),u=s("77a5"),p=s("e498"),m=s("2b4c");function d(){return Object(m["a"])({url:"/personalized/privatecontent/list?limit=6&offset=1",method:"get"})}function f(){return Object(m["a"])({url:"/top/mv?limit=6",method:"get"})}function g(){return Object(m["a"])({url:"dj/hot?limit=6&offset=1",method:"get"})}function v(){return Object(m["a"])({url:"dj/toplist?type=new&limit=6",method:"get"})}var b=function(t,e){var s=e._c;return s("div",{staticClass:"header-search"},[s("router-link",{key:"搜索",staticClass:"header-link",attrs:{tag:"div",to:"/search"}},[s("span",{staticClass:"iconfont icon-sousuo header-icon"}),s("span",[e._v("请输入搜索内容")])])],1)},h=[],w={name:"HomeSearch"},y=w,C=(s("9abe"),s("2877")),_=Object(C["a"])(y,b,h,!0,null,"8365cbd8",null),k=_.exports,j=function(t,e){var s=e._c;return s("section",{staticClass:"home-toplist"},[e._t("default"),e.props.list.length?s("swiper",{attrs:{options:e.props.options}},e._l(e.props.list,(function(t,n){return s("swiper-slide",{key:t.id,staticStyle:{width:"9.2rem"}},[s("router-link",{staticClass:"home-toplist-main",style:{backgroundColor:e.props.colors[n]},attrs:{to:"/playlist/"+t.id+"?type=1",tag:"div"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.coverImgUrl,expression:"item.coverImgUrl"}],staticClass:"home-toplist-figure",attrs:{alt:""}}),s("div",{staticClass:"home-toplist-songs"},[s("div",{staticClass:"home-toplist-title"},[s("b",{staticClass:"home-toplist-name"},[e._v(e._s(t.name))]),e._v(" _ "+e._s(t.updateFrequency)+" ")]),s("div",{staticClass:" home-toplist-song-wrap"},e._l(t.tracks,(function(t,n){return s("div",{key:t.first,staticClass:"ellipsis home-toplist-song"},[s("span",{staticClass:"home-toplist-song-rank"},[s("b",[e._v("0"+e._s(n+1)+" ")])]),s("span",{staticClass:"home-toplist-song-name"},[e._v(e._s(t.first))]),e._v(" - "),s("span",{staticClass:"home-toplist-song=artist"},[e._v(e._s(t.second))])])})),0)])])],1)})),1):e._e()],2)},x=[],O={name:"HomeTopList",props:{list:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{watchSlidesVisibility:!0,slidesPerView:"auto",centeredSlides:!0}}},colors:{type:Object,default:function(){return{0:"#e6eaf1",1:"#eff1f1",2:"#ebe6e7",3:"#faefee"}}}}},S=O,L=(s("42e1"),Object(C["a"])(S,j,x,!0,null,"5bd07252",null)),I=L.exports,H=function(t,e){var s=e._c;return s("div",{staticClass:"home-title-wrap"},[e._t("default",[s("strong",{staticClass:"home-title-name"},[e._v(e._s(e.props.title))])]),s("router-link",{staticClass:"home-title-more",attrs:{to:e.props.link}},[e._t("more",[s("span",[e._v(e._s(e.props.more))])]),s("span",{staticClass:"iconfont icon-youjiantou"})],2)],2)},T=[],z={name:"HomeMore",props:{title:{type:String,default:""},link:{type:String,default:""},more:{type:String,default:"更多"}}},R=z,U=(s("d8dc"),Object(C["a"])(R,H,T,!0,null,"7e32f6d7",null)),N=U.exports,A=function(t,e){var s=e._c;return s("section",{staticClass:"home-newsong"},[e._t("default"),e.props.songs.length?s("swiper",{directives:[{name:"show",rawName:"v-show",value:1==e.props.activeTab,expression:"props.activeTab == 1"}],attrs:{options:e.props.options}},e._l(e.props.songs,(function(t,n){return s("swiper-slide",{key:"s"+n,staticStyle:{width:"9.2rem"}},[s("div",{staticClass:"home-newsong"},[s("ul",e._l(t,(function(t){return s("li",{key:t.id,staticClass:"home-newsong-item",on:{click:function(s){return e.listeners.player(t.id)}}},[s("figure",{staticClass:"home-newsong-figure"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"song.picUrl"}],staticClass:"home-newsong-img",attrs:{alt:""}}),s("span",{staticClass:"iconfont home-newsong-icon",class:e.props.palyStatus(t.id)})]),s("div",{staticClass:"home-newsong-right ellipsis"},[s("div",{staticClass:"ellipsis"},[s("span",{staticClass:"home-newsong-name "},[e._v(e._s(t.name))]),s("span",[e._v(" - "+e._s(t.artists)+" ")])]),s("div",{staticClass:"ellipsis home-newsong-album"},[e._v(e._s(t.album))])])])})),0)])])})),1):e._e(),e.props.albums.length?s("swiper",{directives:[{name:"show",rawName:"v-show",value:2==e.props.activeTab,expression:"props.activeTab == 2"}],attrs:{options:e.props.options}},e._l(e.props.albums,(function(t,n){return s("swiper-slide",{key:"b"+n,staticStyle:{width:"9.2rem"}},[s("div",{staticClass:"home-newsong"},[s("ul",e._l(t,(function(t){return s("router-link",{key:t.id,staticClass:"home-newsong-item",attrs:{tag:"li",to:"/album/"+t.id}},[s("figure",{staticClass:"home-newsong-figure"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"song.picUrl"}],staticClass:"home-newsong-img",attrs:{alt:""}})]),s("div",{staticClass:"home-newsong-right ellipsis"},[s("div",{staticClass:"ellipsis"},[s("span",{staticClass:"home-newsong-name "},[e._v(e._s(t.name))])]),s("div",{staticClass:"ellipsis home-newsong-album"},[e._v(" "+e._s(t.artists)+" ")])])])})),1)])])})),1):e._e(),e.props.products.length?s("swiper",{directives:[{name:"show",rawName:"v-show",value:3==e.props.activeTab,expression:"props.activeTab == 3"}],attrs:{options:e.props.options}},e._l(e.props.products,(function(t,n){return s("swiper-slide",{key:"p"+n,staticStyle:{width:"9.2rem"}},[s("div",{staticClass:"home-newsong"},[s("ul",e._l(t,(function(t){return s("li",{key:t.id,staticClass:"home-newsong-item"},[s("figure",{staticClass:"home-newsong-figure"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"song.picUrl"}],staticClass:"home-newsong-img",attrs:{alt:""}})]),s("div",{staticClass:"home-newsong-right ellipsis"},[s("div",{staticClass:"ellipsis"},[s("span",{staticClass:"home-newsong-name "},[e._v(e._s(t.name))])]),s("div",{staticClass:"ellipsis home-newsong-album"},[e._v(" "+e._s(t.artists)+" ")])])])})),0)])])})),1):e._e()],2)},M=[],B=(s("a9e3"),{name:"HomeNewSong",props:{albums:{type:Array,default:function(){return[]}},songs:{type:Array,default:function(){return[]}},products:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{watchSlidesVisibility:!0,centeredSlides:!0,slidesPerView:"auto"}}},activeTab:[String,Number],palyStatus:Function}}),P=B,V=(s("4d4e"),Object(C["a"])(P,A,M,!0,null,"ee4f9056",null)),q=V.exports,F=function(t,e){var s=e._c;return s("section",{staticClass:"home-playlist"},[e._t("default"),s("main",{staticClass:"home-playlist-main"},[s("div",{staticClass:"home-playlist-scroll"},[s("ul",{staticClass:"home-playlist-wrap"},e._l(e.props.list,(function(t){return s("router-link",{key:t.id,staticClass:"home-playlist-item",attrs:{to:e.props.link?"/playlist/"+t.id+"?type=0":""}},[s("figure",{staticClass:"home-playlist-figure"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"item.picUrl"}],staticClass:"home-playlist-img",class:{"home-playlist-round":e.props.round},attrs:{alt:""}})]),s("p",{staticClass:"home-playlist-name clamp"},[e._v(e._s(t.name))])])})),1)])])],2)},$=[],E={name:"HomeList",props:{list:{type:Array,default:function(){return[]}},link:{type:Boolean,default:!1},round:{type:Boolean,default:!1}}},J=E,D=(s("4dfc"),Object(C["a"])(J,F,$,!0,null,"5868e46f",null)),G=D.exports,K=s("ed08"),Q=s("01ea"),W={name:"Home",components:{HomeSearch:k,HomeTopList:I,HomeMore:N,HomeNewSong:q,HomeList:G},data:function(){return{swiperOptions:{pagination:{el:".swiper-pagination"},loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1,disableOnInteraction:!1},watchSlidesVisibility:!0,lazy:{preloaderClass:"my-lazy-preloader"},slidesPerView:"auto",centeredSlides:!0},tabs:[{link:"/songs/0",more:"更多新歌",tabIndex:1,name:"新歌"},{link:"/songs/1",more:"更多新碟",tabIndex:2,name:"新碟"},{link:"/mall",more:"更多数专",tabIndex:3,name:"数字专辑"}],radio:[{tabIndex:1,name:"广播电台"},{tabIndex:2,name:"24小时播客"}],activeTab:1,activeRadio:1,more:"更多新歌",link:"/songs/0",swiperList:[],personalized:[],newsong:[],toplists:[],albums:[],products:[],videos:[],mvs:[],djs:[],djToplist:[],list:[]}},computed:Object(o["a"])({palyStatus:function(t){var e=t.playing,s=t.currrenSong;return function(t){return s.id==t&&e?"icon-pause-full":"icon-bofang31"}}},Object(l["c"])(["playList","playing","currrenSong"])),created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.getSwiperList(),t.getTopList(),t.getNewsong(),t.getNewAlbum(),t.getAlbumList(),t.Batchs(),t.colors={blue:"#169af3",red:"#ff3a3a"},t.$nextTick((function(){return t.audio=document.getElementById("audio")}));case 8:case"end":return e.stop()}}),e)})))()},methods:Object(o["a"])({getTopList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["b"])();case 2:s=e.sent,n=s.list,a=n.filter((function(t){return t.tracks&&t.tracks.length})),t.toplists=a;case 6:case"end":return e.stop()}}),e)})))()},getSwiperList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["a"])();case 2:s=e.sent,n=s.code,a=s.banners,200===n&&(t.swiperList=a);case 6:case"end":return e.stop()}}),e)})))()},getNewAlbum:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["e"])({limit:6});case 2:s=e.sent,n=s.code,a=s.albums,200==n&&(i=a.slice(0,6).reduce((function(t,e){var s=e.id,n=e.name,a=e.picUrl,i=e.artists;return t.push(new Q["a"]({id:s,name:n,picUrl:a,artists:i})),t}),[]),t.albums=Object(K["g"])(i,3));case 6:case"end":return e.stop()}}),e)})))()},getAlbumList:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(p["b"])({limit:9});case 2:s=e.sent,n=s.code,a=s.products,200==n&&(i=a.reduce((function(t,e){var s=e.albumId,n=e.albumName,a=e.coverUrl,i=e.artistName;return t.push(new Q["a"]({id:s,name:n,picUrl:a,artists:[{name:i}]})),t}),[]),t.products=Object(K["g"])(i,3));case 6:case"end":return e.stop()}}),e)})))()},getNewsong:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(c["c"])({limit:30,offset:1});case 2:s=e.sent,n=s.code,a=s.result,200==n&&(i=a.reduce((function(t,e){var s=e.id,n=e.name,a=e.picUrl,i=e.song;return t.push(new Q["a"]({id:s,name:n,picUrl:a,artists:i["artists"],album:i.album.name,privilege:{pl:i.privilege["pl"],fee:i.privilege["fee"],flag:i.privilege["flag"],maxbr:i.privilege["maxbr"]}})),t}),[]),t.newsong=Object(K["g"])(i,3));case 6:case"end":return e.stop()}}),e)})))()},Batchs:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var s,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s=[g(),v(),Object(c["d"])(),d(),f()],e.next=3,Promise.all(s);case 3:n=e.sent,t.djs=n[0]["djRadios"],t.djToplist=n[1]["toplist"],t.personalized=n[2]["result"],t.videos=n[3]["result"],t.mvs=n[4]["data"].map((function(t){return{picUrl:t.cover,name:t.name}})),t.list=n[0]["djRadios"];case 10:case"end":return e.stop()}}),e)})))()},player:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function s(){var n,a,r,o,l;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(n=e.playList.findIndex((function(e){return e.id==t})),!(n>=0)){s.next=5;break}t==e.currrenSong.id?(e.setPlaying(!e.playing),e.playing?e.audio.play():e.audio.pause()):e.setCurrrentIndex(n),s.next=14;break;case 5:return s.next=7,Object(c["b"])(t);case 7:a=s.sent,r=a.songs,o=a.privileges,l={id:r[0]["id"],name:r[0]["name"],picUrl:r[0]["al"]["picUrl"],artists:r[0]["ar"],album:r[0]["al"]["name"],alia:r[0]["alia"],privilege:{pl:o[0]["pl"],fee:o[0]["fee"],flag:o[0]["flag"],maxbr:o[0]["maxbr"]}},e.setPlay([new Q["a"](l)].concat(Object(i["a"])(e.playList))),e.setSequenceList(e.playList),e.setCurrrentIndex(0);case 14:case"end":return s.stop()}}),s)})))()},handleAction:function(t){1==t.targetType&&this.player(t.targetId),10==t.targetType&&this.$router.push("/album/".concat(t.targetId))},handleChange:function(t){t.tabIndex!=this.activeTab&&(this.activeTab=t.tabIndex,this.more=t.more,this.link=t.link)}},Object(l["d"])(["setCurrrentIndex","setPlay","setFullScreen","setSequenceList","setSinger"]))},X=W,Y=(s("fc2a"),Object(C["a"])(X,n,a,!1,null,"fcdb7924",null));e["default"]=Y.exports},"857a":function(t,e,s){var n=s("1d80"),a=/"/g;t.exports=function(t,e,s,i){var r=String(n(t)),o="<"+e;return""!==s&&(o+=" "+s+'="'+String(i).replace(a,"&quot;")+'"'),o+">"+r+"</"+e+">"}},9911:function(t,e,s){"use strict";var n=s("23e7"),a=s("857a"),i=s("af03");n({target:"String",proto:!0,forced:i("link")},{link:function(t){return a(this,"a","href",t)}})},"9abe":function(t,e,s){"use strict";var n=s("6546"),a=s.n(n);a.a},"9e89":function(t,e,s){},af03:function(t,e,s){var n=s("d039");t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},d18d:function(t,e,s){},d8dc:function(t,e,s){"use strict";var n=s("5d81"),a=s.n(n);a.a},e23b:function(t,e,s){},e498:function(t,e,s){"use strict";s.d(e,"a",(function(){return a})),s.d(e,"e",(function(){return i})),s.d(e,"b",(function(){return r})),s.d(e,"d",(function(){return o})),s.d(e,"f",(function(){return l})),s.d(e,"c",(function(){return c}));var n=s("2b4c");function a(t){return Object(n["a"])({url:"/album?id=".concat(t),method:"get"})}function i(){return Object(n["a"])({url:"/album/newest",method:"get"})}function r(t){return Object(n["a"])({url:"/album/list",method:"get",params:t})}function o(t){return Object(n["a"])({url:"/album/new?area=".concat(t,"&limit=10"),method:"get"})}function l(t){return Object(n["a"])({url:"album/songsaleboard",params:t,method:"get"})}function c(t){return Object(n["a"])({url:"/album/list/style",method:"get",params:t})}},fc2a:function(t,e,s){"use strict";var n=s("e23b"),a=s.n(n);a.a}}]);
//# sourceMappingURL=recommend.5e412168.js.map