(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["recommend"],{"0687":function(e,t,s){"use strict";var n=s("7ef3"),r=s.n(n);r.a},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"13d5":function(e,t,s){"use strict";var n=s("23e7"),r=s("d58f").left,a=s("a640"),i=s("ae40"),o=a("reduce"),l=i("reduce",{1:0});n({target:"Array",proto:!0,forced:!o||!l},{reduce:function(e){return r(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"149b":function(e,t,s){},"2b19":function(e,t,s){var n=s("23e7"),r=s("129f");n({target:"Object",stat:!0},{is:r})},"324a":function(e,t,s){"use strict";s.d(t,"d",(function(){return r})),s.d(t,"c",(function(){return a})),s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return o}));var n=s("2b4c");function r(){return Object(n["a"])({url:"/personalized",method:"get"})}function a(){return Object(n["a"])({url:"/personalized/newsong?limit=100",method:"get"})}function i(){return Object(n["a"])({url:"/banner",method:"get"})}function o(e){return Object(n["a"])({url:"/song/detail?ids=".concat(e),method:"get"})}},"35f6":function(e,t,s){"use strict";var n=s("e57f"),r=s.n(n);r.a},"77a5":function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a}));var n=s("2b4c");function r(e){return Object(n["a"])({url:"playlist/detail?id=".concat(e),method:"get"})}function a(){return Object(n["a"])({url:"/toplist/detail",method:"get"})}},"7abe":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"recommend"},[s("RecommendSearch"),s("div",{staticClass:"recommend-swiper"},[s("BaseSwiper",{attrs:{list:e.swiperList,options:e.swiperOptions,visible:!0},scopedSlots:e._u([{key:"default",fn:function(e){var t=e.data;return[s("img",{staticClass:"swiper-lazy swiper-img",attrs:{"data-index":t.targetId,"data-src":t.imageUrl}}),s("div",{staticClass:"my-lazy-preloader"})]}}])})],1),s("BaseNav"),e.personalized.length?s("HomePlayList",{attrs:{list:e.personalized}},[s("HomeMore",{attrs:{title:"推荐歌单",link:"/playlist"}})],1):e._e(),e.toplists.length?s("HomeTopList",{attrs:{list:e.toplists}},[s("HomeMore",{attrs:{title:"排行榜",link:"/rank"}})],1):e._e(),e.newsong.length?s("HomeNewSong",{attrs:{products:e.products,songs:e.newsong,albums:e.albums,tabs:e.tabs,activeTab:e.activeTab}},[s("HomeMore",{attrs:{link:e.link,more:e.more}},[s("div",{staticClass:"home-newsong-tabs"},e._l(e.tabs,(function(t){return s("div",{key:t.tabIndex,staticClass:"home-newsong-tab",on:{click:function(s){return e.handleChange(t)}}},[s("strong",{staticClass:"home-newsong-tabs-name",class:{"home-newsong-active":e.activeTab==t.tabIndex}},[e._v(e._s(t.name))]),3!=t.tabIndex?s("span",{staticClass:"home-newsong-tabs-line"}):e._e()])})),0)])],1):e._e()],1)},r=[],a=(s("99af"),s("4de4"),s("c740"),s("a15b"),s("13d5"),s("fb6a"),s("a434"),s("b0c0"),s("2b19"),s("9911"),s("2909")),i=(s("96cf"),s("1da1")),o=s("5530"),l=function(e,t){var s=t._c;return s("div",{staticClass:"header-search"},[s("router-link",{key:"搜索",staticClass:"header-link",attrs:{tag:"div",to:"/search"}},[s("span",{staticClass:"iconfont icon-sousuo header-icon"}),s("span",[t._v("请输入搜索内容")])])],1)},c=[],u={name:"RecommendSearch"},p=u,m=(s("ede2"),s("2877")),d=Object(m["a"])(p,l,c,!0,null,"74ecfacf",null),f=d.exports,g=s("2f62"),v=s("324a"),b=s("77a5"),h=s("e498"),w=function(e,t){var s=t._c;return s("section",{staticClass:"home-toplist"},[t._t("default"),t.props.list.length?s("swiper",{attrs:{options:t.props.options}},t._l(t.props.list,(function(e,n){return s("swiper-slide",{key:e.id},[s("router-link",{staticClass:"home-toplist-main",style:{backgroundColor:t.props.colors[n]},attrs:{to:"/playlist/"+e.id,tag:"div"}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.coverImgUrl,expression:"item.coverImgUrl"}],staticClass:"home-toplist-figure",attrs:{alt:""}}),s("div",{staticClass:"home-toplist-songs"},[s("div",{staticClass:"home-toplist-title"},[s("b",{staticClass:"home-toplist-name"},[t._v(t._s(e.name))]),t._v(" _ "+t._s(e.updateFrequency)+" ")]),s("div",{staticClass:" home-toplist-song-wrap"},t._l(e.tracks,(function(e,n){return s("div",{key:e.first,staticClass:"ellipsis home-toplist-song"},[s("span",{staticClass:"home-toplist-song-rank"},[s("b",[t._v("0"+t._s(n+1)+" ")])]),s("span",{staticClass:"home-toplist-song-name"},[t._v(t._s(e.first))]),t._v(" - "),s("span",{staticClass:"home-toplist-song=artist"},[t._v(t._s(e.second))])])})),0)])])],1)})),1):t._e()],2)},y=[],_={name:"HomeTopList",props:{list:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{watchSlidesVisibility:!0,slidesPerView:"auto",centeredSlides:!0}}},colors:{type:Object,default:function(){return{0:"#e6eaf1",1:"#eff1f1",2:"#ebe6e7",3:"#faefee"}}}}},C=_,x=(s("35f6"),Object(m["a"])(C,w,y,!0,null,"11ede304",null)),j=x.exports,k=function(e,t){var s=t._c;return s("div",{staticClass:"home-title-wrap"},[t._t("default",[s("strong",{staticClass:"home-title-name"},[t._v(t._s(t.props.title))])]),s("router-link",{staticClass:"home-title-more",attrs:{to:t.props.link}},[t._t("more",[s("span",[t._v(t._s(t.props.more))])]),s("span",{staticClass:"iconfont icon-youjiantou"})],2)],2)},O=[],S={name:"HomeMore",props:{title:String,link:String,more:{type:String,default:"更多"}}},L=S,z=(s("0687"),Object(m["a"])(L,k,O,!0,null,"1110d066",null)),R=z.exports,N=function(e,t){var s=t._c;return s("section",{staticClass:"home-newsong"},[t._t("default"),t.props.songs.length?s("swiper",{directives:[{name:"show",rawName:"v-show",value:1==t.props.activeTab,expression:"props.activeTab == 1"}],attrs:{options:t.props.options}},t._l(t.props.songs,(function(e,n){return s("swiper-slide",{key:"s"+n},[s("div",{staticClass:"home-newsong"},[s("ul",t._l(e,(function(e){return s("li",{key:e.id,staticClass:"home-newsong-item"},[s("figure",{staticClass:"home-newsong-figure"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"song.picUrl"}],staticClass:"home-newsong-img",attrs:{alt:""}})]),s("div",{staticClass:"home-newsong-right ellipsis"},[s("div",{staticClass:"ellipsis"},[s("span",{staticClass:"home-newsong-name "},[t._v(t._s(e.name))]),s("span",[t._v(" — "+t._s(e.artists)+" ")])]),s("div",{staticClass:"ellipsis home-newsong-album"},[t._v(t._s(e.album))])])])})),0)])])})),1):t._e(),t.props.albums.length?s("swiper",{directives:[{name:"show",rawName:"v-show",value:2==t.props.activeTab,expression:"props.activeTab == 2"}],attrs:{options:t.props.options}},t._l(t.props.albums,(function(e,n){return s("swiper-slide",{key:"b"+n},[s("div",{staticClass:"home-newsong"},[s("ul",t._l(e,(function(e){return s("li",{key:e.id,staticClass:"home-newsong-item"},[s("figure",{staticClass:"home-newsong-figure"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"song.picUrl"}],staticClass:"home-newsong-img",attrs:{alt:""}})]),s("div",{staticClass:"home-newsong-right ellipsis"},[s("div",{staticClass:"ellipsis"},[s("span",{staticClass:"home-newsong-name "},[t._v(t._s(e.name))]),e.artists?s("span",[t._v(" - "+t._s(e.artists)+" ")]):t._e()]),s("div",{staticClass:"ellipsis home-newsong-album"},[t._v(t._s(e.album))])])])})),0)])])})),1):t._e(),t.props.products.length?s("swiper",{directives:[{name:"show",rawName:"v-show",value:3==t.props.activeTab,expression:"props.activeTab == 3"}],attrs:{options:t.props.options}},t._l(t.props.products,(function(e,n){return s("swiper-slide",{key:"p"+n},[s("div",{staticClass:"home-newsong"},[s("ul",t._l(e,(function(e){return s("li",{key:e.id,staticClass:"home-newsong-item"},[s("figure",{staticClass:"home-newsong-figure"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"song.picUrl"}],staticClass:"home-newsong-img",attrs:{alt:""}})]),s("div",{staticClass:"home-newsong-right ellipsis"},[s("div",{staticClass:"ellipsis"},[s("span",{staticClass:"home-newsong-name "},[t._v(t._s(e.name))]),e.artists?s("span",[t._v(" - "+t._s(e.artists)+" ")]):t._e()]),s("div",{staticClass:"ellipsis home-newsong-album"},[t._v(t._s(e.album))])])])})),0)])])})),1):t._e()],2)},T=[],U=(s("a9e3"),{name:"HomeNewSong",props:{albums:{type:Array,default:function(){return[]}},songs:{type:Array,default:function(){return[]}},products:{type:Array,default:function(){return[]}},options:{type:Object,default:function(){return{watchSlidesVisibility:!0,centeredSlides:!0,slidesPerView:"auto"}}},activeTab:[String,Number]}}),I=U,H=(s("e1d7"),Object(m["a"])(I,N,T,!0,null,"ce1c5a82",null)),A=H.exports,P=function(e,t){var s=t._c;return s("section",{staticClass:"home-playlist"},[t._t("default"),s("main",{staticClass:"home-playlist-main"},[s("div",{staticClass:"home-playlist-scroll"},[s("ul",{staticClass:"home-playlist-wrap"},t._l(t.props.list,(function(e){return s("router-link",{key:e.id,staticClass:"home-playlist-item",attrs:{to:"/playlist/"+e.id}},[s("figure",{staticClass:"home-playlist-figure"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"item.picUrl"}],staticClass:"home-playlist-img",attrs:{alt:""}})]),s("p",{staticClass:"home-playlist-name clamp"},[t._v(t._s(e.name))])])})),1)])])],2)},V=[],q={name:"HomePlayList",props:{list:{type:Array,default:function(){return[]}}}},M=q,B=(s("aed9"),Object(m["a"])(M,P,V,!0,null,"50137ddb",null)),D=B.exports,E={name:"Home",components:{RecommendSearch:f,HomeTopList:j,HomeMore:R,HomeNewSong:A,HomePlayList:D},data:function(){var e=this;return{swiperOptions:{pagination:{el:".swiper-pagination"},on:{tap:function(t){e.getDetail(t.target.dataset.index)}},loop:!0,autoplay:{delay:2e3,stopOnLastSlide:!1,disableOnInteraction:!1},watchSlidesVisibility:!0,lazy:{preloaderClass:"my-lazy-preloader"},slidesPerView:"auto",centeredSlides:!0},tabs:[{link:"/songs/0",more:"更多新歌",tabIndex:1,name:"新歌"},{link:"/songs/1",more:"更多新碟",tabIndex:2,name:"新碟"},{link:"/mall",more:"更多数专",tabIndex:3,name:"数字专辑"}],activeTab:1,more:"更多新歌",link:"/songs/0",swiperList:[],personalized:[],newsong:[],toplists:[],albums:[],products:[]}},computed:Object(o["a"])({},Object(g["c"])(["playList"])),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["e"])();case 2:e.getSwiperList(),e.getPersonalized(),e.getNewsong(),e.getTopList(),e.getNewAlbum(),e.getAlbumList();case 8:case"end":return t.stop()}}),t)})))()},methods:Object(o["a"])({getTopList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(b["b"])();case 2:s=t.sent,n=s.list,r=n.filter((function(e){return e.tracks&&e.tracks.length})),e.toplists=r;case 6:case"end":return t.stop()}}),t)})))()},getSwiperList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["a"])();case 2:s=t.sent,n=s.code,r=s.banners,200===n&&(e.swiperList=r);case 6:case"end":return t.stop()}}),t)})))()},getPersonalized:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["d"])();case 2:s=t.sent,n=s.code,r=s.result,200===n&&(e.personalized=r.splice(0,6));case 6:case"end":return t.stop()}}),t)})))()},getNewAlbum:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["e"])();case 2:s=t.sent,n=s.code,r=s.albums,200==n&&(a=r.slice(0,6).reduce((function(t,s){var n={id:s.id,name:s.name,picUrl:s.picUrl,album:e.getArtist(s.artists).join("、"),artists:"",privilege:{pl:"",fee:"",flag:"",maxbr:""}};return t.push(n),t}),[]),e.albums=e.splitList(a,3));case 6:case"end":return t.stop()}}),t)})))()},getAlbumList:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(h["b"])();case 2:s=t.sent,n=s.code,r=s.products,200==n&&(a=r.slice(0,9).reduce((function(e,t){var s={id:t.albumId,name:t.albumName,picUrl:t.coverUrl,album:t.artistName,artists:"",privilege:{pl:"",fee:"",flag:"",maxbr:""}};return e.push(s),e}),[]),e.products=e.splitList(a,3));case 6:case"end":return t.stop()}}),t)})))()},getNewsong:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var s,n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(v["c"])();case 2:s=t.sent,n=s.code,r=s.result,200==n&&(a=r.slice(0,6).reduce((function(t,s){var n={id:s.id,name:s.name,picUrl:s.picUrl,album:s.song.album.name,artists:e.getArtist(s.song.artists).join("、"),privilege:{pl:s.song.privilege["pl"],fee:s.song.privilege["fee"],flag:s.song.privilege["flag"],maxbr:s.song.privilege["maxbr"]}};return t.push(n),t}),[]),e.newsong=e.splitList(a,3));case 6:case"end":return t.stop()}}),t)})))()},getDetail:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var n,r,i,o;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,Object(v["b"])(e);case 2:if(n=s.sent,r=n.songs,r.length){s.next=6;break}return s.abrupt("return");case 6:i={id:r[0].id,name:r[0].name,picUrl:r[0].al.picUrl,singer:r[0].ar[0].name},o=t.playList.findIndex((function(e){return e.id===i.id})),o>=0?t.setCurrrentIndex(o):(t.setPlay([i].concat(Object(a["a"])(t.playList))),t.setSequenceList(t.playList),t.setCurrrentIndex(0));case 9:case"end":return s.stop()}}),s)})))()},handleChange:function(e){e.tabIndex!=this.activeTab&&(this.activeTab=e.tabIndex,this.more=e.more,this.link=e.link)},playSong:function(e,t){Object.is(this.newsong,this.playList)||(this.setPlay(this.newsong),this.setSequenceList(this.newsong)),this.setCurrrentIndex(t)},splitList:function(e,t){var s=0,n=[];while(s<e.length)n.push(e.slice(s,s+=t));return n},getArtist:function(e){return e.reduce((function(e,t){return e.push(t.name),e}),[])}},Object(g["d"])(["setCurrrentIndex","setPlay","setFullScreen","setSequenceList","setSinger"]))},F=E,J=(s("7e43"),Object(m["a"])(F,n,r,!1,null,"bf3b607a",null));t["default"]=J.exports},"7e43":function(e,t,s){"use strict";var n=s("951e"),r=s.n(n);r.a},"7ef3":function(e,t,s){},"857a":function(e,t,s){var n=s("1d80"),r=/"/g;e.exports=function(e,t,s,a){var i=String(n(e)),o="<"+t;return""!==s&&(o+=" "+s+'="'+String(a).replace(r,"&quot;")+'"'),o+">"+i+"</"+t+">"}},"951e":function(e,t,s){},9911:function(e,t,s){"use strict";var n=s("23e7"),r=s("857a"),a=s("af03");n({target:"String",proto:!0,forced:a("link")},{link:function(e){return r(this,"a","href",e)}})},a15b:function(e,t,s){"use strict";var n=s("23e7"),r=s("44ad"),a=s("fc6a"),i=s("a640"),o=[].join,l=r!=Object,c=i("join",",");n({target:"Array",proto:!0,forced:l||!c},{join:function(e){return o.call(a(this),void 0===e?",":e)}})},ae9d:function(e,t,s){},aed9:function(e,t,s){"use strict";var n=s("c5ed"),r=s.n(n);r.a},af03:function(e,t,s){var n=s("d039");e.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},c5ed:function(e,t,s){},d58f:function(e,t,s){var n=s("1c0b"),r=s("7b0b"),a=s("44ad"),i=s("50c4"),o=function(e){return function(t,s,o,l){n(s);var c=r(t),u=a(c),p=i(c.length),m=e?p-1:0,d=e?-1:1;if(o<2)while(1){if(m in u){l=u[m],m+=d;break}if(m+=d,e?m<0:p<=m)throw TypeError("Reduce of empty array with no initial value")}for(;e?m>=0:p>m;m+=d)m in u&&(l=s(l,u[m],m,c));return l}};e.exports={left:o(!1),right:o(!0)}},e1d7:function(e,t,s){"use strict";var n=s("ae9d"),r=s.n(n);r.a},e498:function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"e",(function(){return a})),s.d(t,"b",(function(){return i})),s.d(t,"d",(function(){return o})),s.d(t,"f",(function(){return l})),s.d(t,"c",(function(){return c}));var n=s("2b4c");function r(e){return Object(n["a"])({url:"/album?id=".concat(e),method:"get"})}function a(){return Object(n["a"])({url:"/album/newest",method:"get"})}function i(e){return Object(n["a"])({url:"/album/list",method:"get",params:e})}function o(e){return Object(n["a"])({url:"/album/new?area=".concat(e,"&limit=10"),method:"get"})}function l(e){return Object(n["a"])({url:"album/songsaleboard",params:e,method:"get"})}function c(e){return Object(n["a"])({url:"/album/list/style",method:"get",params:e})}},e57f:function(e,t,s){},ede2:function(e,t,s){"use strict";var n=s("149b"),r=s.n(n);r.a}}]);
//# sourceMappingURL=recommend.ee62135c.js.map