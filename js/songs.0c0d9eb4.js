(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["songs"],{"050a":function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"songs-main"},[n("BaseBack",[n("nav",{staticClass:"songs-nav-wrap"},[n("span",{class:{"songs-nav-active":0==t.activeIndex},on:{click:function(e){return t.handleChange(0)}}},[t._v("新歌")]),n("span",{staticClass:"songs-nav-line"},[t._v(" | ")]),n("span",{class:{"songs-nav-active":1==t.activeIndex},on:{click:function(e){return t.handleChange(1)}}},[t._v("新碟")])])]),n("PlayListSongList",{directives:[{name:"show",rawName:"v-show",value:0==t.activeIndex,expression:"activeIndex == 0"}],staticStyle:{"padding-top":"1.6rem"},attrs:{songs:t.songs},on:{player:t.player}}),n("SongsNewAlbum",{directives:[{name:"show",rawName:"v-show",value:1==t.activeIndex,expression:"activeIndex == 1"}]})],1)},i=[],a=(n("13d5"),n("b0c0"),n("2b19"),n("96cf"),n("1da1")),r=n("5530"),c=n("2f62"),o=n("324a"),u=n("f8a4"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"singer-container"},[n("BaseTabs",{ref:"tabs",attrs:{navList:t.navList,active:t.active},on:{tabs:t.handleScroll,change:t.handleChange}}),n("main",{staticClass:"singer-main"},[t.navList.length>0?n("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},t._l(t.navList,(function(t){return n("swiper-slide",{key:t.id,attrs:{"data-id":t.targetId}},[n("SongsNewAlbumList",{ref:"singer",refInFor:!0})],1)})),1):t._e()],1)],1)},g=[],d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"songs-album"},t._l(t.newAlbums,(function(e){return n("router-link",{key:e.id,staticClass:"songs-album-item",attrs:{to:"/album/"+e.id}},[n("figure",{staticClass:"songs-album-figure"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"album.picUrl"}],staticClass:"songs-album-img",attrs:{alt:""}})]),n("div",{staticClass:"songs-album-info"},[n("p",{staticClass:"songs-album-name elrouter-linkpsis"},[t._v(t._s(e.name))]),n("p",{staticClass:"songs-album-artist ellipsis"},[t._v(" "+t._s(t.getArtist(e.artists).join("/"))+" ")])])])})),1)},f=[],m=n("e498"),v={name:"SongsNewAlbumList",data:function(){return{newAlbums:[]}},methods:{getSingers:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var s,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(m["d"])(t);case 2:s=n.sent,i=s.code,a=s.albums,200===i&&(e.newAlbums=a);case 6:case"end":return n.stop()}}),n)})))()},getArtist:function(t){return t.reduce((function(t,e){return t.push(e.name),t}),[])}}},p=v,b=(n("6cfe"),n("2877")),h=Object(b["a"])(p,d,f,!1,null,"6f441b03",null),w=h.exports,_={name:"SongNewAblum",components:{SongsNewAlbumList:w},data:function(){var t=this;return{active:0,navList:[{id:"ZH",name:"华语"},{id:"EA",name:"欧美"},{id:"KR",name:"韩国"},{id:"JP",name:"日本"}],swiperOptions:{on:{slideChange:function(){t.active=t.swiper.activeIndex}},loop:!1,watchSlidesVisibility:!0}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){this.singers=this.$refs.singer,this.singers[0].getSingers("ZH"),this.$refs.tabs.init()},methods:{handleChange:function(t){var e=this.navList[t]["id"];this.singers[t].getSingers(e)},handleScroll:function(t){this.active!=t&&this.swiper.slideTo(t,0,!1)}}},C=_,S=(n("b4cf"),Object(b["a"])(C,l,g,!1,null,"0dbf5cb9",null)),x=S.exports,O=n("01ea"),j={name:"Songs",components:{PlayListSongList:u["a"],SongsNewAlbum:x},data:function(){return{songs:[],activeIndex:this.$route.params.id||1}},created:function(){this.getNewSong()},methods:Object(r["a"])({getNewSong:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n,s,i,a,r,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["c"])({limit:30});case 2:if(n=e.sent,s=n.code,i=n.result,200==s){for(a=[],r=0,c=i.length;r<c;r++)u={id:i[r]["id"],name:i[r]["name"],album:i[r]["song"]["name"],singer:i[r]["song"]["artists"],picUrl:i[r]["picUrl"],privilege:{pl:i[r]["song"]["privilege"]["pl"]||"",fee:i[r]["song"]["privilege"]["fee"]||"",flag:i[r]["song"]["privilege"]["flag"]||"",maxbr:i[r]["song"]["privilege"]["maxbr"]||""}},a.push(new O["a"](u));t.songs=a}case 6:case"end":return e.stop()}}),e)})))()},getArtist:function(t){return t.reduce((function(t,e){return t.push(e.name),t}),[])},player:function(t,e){this.$drop(e),Object.is(this.songs,this.playList)||(this.setPlay(this.songs),this.setSequenceList(this.songs)),this.setCurrrentIndex(t)},handleChange:function(t){this.activeIndex!=t&&(this.activeIndex=t)}},Object(c["d"])(["setCurrrentIndex","setPlay","setFullScreen","setSequenceList","setSinger"]))},y=j,L=(n("3d4c"),Object(b["a"])(y,s,i,!1,null,"6414d899",null));e["default"]=L.exports},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"2b19":function(t,e,n){var s=n("23e7"),i=n("129f");s({target:"Object",stat:!0},{is:i})},"324a":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return c}));var s=n("2b4c");function i(){return Object(s["a"])({url:"/personalized?limit=6",method:"get"})}function a(t){return Object(s["a"])({url:"/personalized/newsong",method:"get",params:t})}function r(){return Object(s["a"])({url:"/banner",method:"get"})}function c(t){return Object(s["a"])({url:"/song/detail?ids=".concat(t),method:"get"})}},"3d4c":function(t,e,n){"use strict";var s=n("7131"),i=n.n(s);i.a},5818:function(t,e,n){},"5c9e":function(t,e,n){},"6cfe":function(t,e,n){"use strict";var s=n("5818"),i=n.n(s);i.a},7131:function(t,e,n){},b4cf:function(t,e,n){"use strict";var s=n("fbaa"),i=n.n(s);i.a},bc51:function(t,e,n){"use strict";var s=n("5c9e"),i=n.n(s);i.a},e498:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"b",(function(){return r})),n.d(e,"d",(function(){return c})),n.d(e,"f",(function(){return o})),n.d(e,"c",(function(){return u}));var s=n("2b4c");function i(t){return Object(s["a"])({url:"/album?id=".concat(t),method:"get"})}function a(){return Object(s["a"])({url:"/album/newest",method:"get"})}function r(t){return Object(s["a"])({url:"/album/list",method:"get",params:t})}function c(t){return Object(s["a"])({url:"/album/new?area=".concat(t,"&limit=10"),method:"get"})}function o(t){return Object(s["a"])({url:"album/songsaleboard",params:t,method:"get"})}function u(t){return Object(s["a"])({url:"/album/list/style",method:"get",params:t})}},f8a4:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"songList"},[n("main",{staticClass:"songlist-main"},[n("ul",{staticClass:"songlist-wrap"},t._l(t.songs,(function(e,s){return n("li",{key:e.id,staticClass:"songlist-item",class:{active:e.id==t.currrenSong.id},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.$emit("player",s,e.currentTarget)}}},[n("div",{staticClass:"songlist-index",class:{active:e.id==t.currrenSong.id}},[t._v(" "+t._s(s+1)+" ")]),n("div",{staticClass:"songlist-name "},[n("div",{staticClass:"ellipsis songlist-title",class:{active:e.id==t.currrenSong.id}},[n("span",[t._v(" "+t._s(e.name)+" ")]),e.alia?n("span",{staticStyle:{color:"#a59797f5"}},[t._v(" ("+t._s(e.alia)+")")]):t._e()]),n("div",{staticClass:"songlist-album",class:{active:e.id==t.currrenSong.id}},[n("div",{staticClass:"songlist-album-icons"},[999e3===e.privilege.maxbr?n("span",{staticClass:"iconsq icon sq"},[t._v("SQ")]):t._e(),/64|68|1088|1092/.test(e.privilege.flag)?n("span",{staticClass:"icon only"},[t._v("独家")]):t._e(),1===e.privilege.fee?n("span",{staticClass:"icon vip"},[t._v("vip")]):t._e(),/1152|1028|1088|1092/.test(e.privilege.flag)?n("span",{staticClass:"icon listen"},[t._v("试听")]):t._e()]),n("div",{staticClass:"ellipsis songlist-content"},[n("span",[t._v(t._s(e.artists))]),t._v(" · "),n("span",[t._v(t._s(e.album))])])])])])})),0)])])},i=[],a=n("5530"),r=n("2f62"),c={name:"PlaylistSongList",props:{songs:Array},data:function(){return{showText:!1}},computed:Object(a["a"])({},Object(r["c"])(["currrenSong","fullScreen","playList"]))},o=c,u=(n("bc51"),n("2877")),l=Object(u["a"])(o,s,i,!1,null,"df6e1492",null);e["a"]=l.exports},fbaa:function(t,e,n){}}]);
//# sourceMappingURL=songs.0c0d9eb4.js.map