(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["songs"],{"050a":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"songs-main"},[n("BaseBack",[n("nav",{staticClass:"songs-nav-wrap"},[n("span",{class:{"songs-nav-active":0==e.activeIndex},on:{click:function(t){return e.handleChange(0)}}},[e._v("新歌")]),n("span",{staticClass:"songs-nav-line"},[e._v(" | ")]),n("span",{class:{"songs-nav-active":1==e.activeIndex},on:{click:function(t){return e.handleChange(1)}}},[e._v("新碟")])])]),n("BaseSongList",{directives:[{name:"show",rawName:"v-show",value:0==e.activeIndex,expression:"activeIndex == 0"}],staticStyle:{"padding-top":"1.6rem"},attrs:{songs:e.songs},on:{player:e.player}}),n("SongsNewAlbum",{directives:[{name:"show",rawName:"v-show",value:1==e.activeIndex,expression:"activeIndex == 1"}]})],1)},i=[],a=(n("13d5"),n("b0c0"),n("2b19"),n("96cf"),n("1da1")),r=n("5530"),c=n("2f62"),u=n("324a"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"singer-container"},[n("BaseTabs",{ref:"tabs",attrs:{navList:e.navList,active:e.active},on:{tabs:e.handleScroll,change:e.handleChange}}),n("main",{staticClass:"singer-main"},[e.navList.length>0?n("swiper",{ref:"mySwiper",attrs:{options:e.swiperOptions}},e._l(e.navList,(function(e){return n("swiper-slide",{key:e.id,attrs:{"data-id":e.targetId}},[n("SongsNewAlbumList",{ref:"singer",refInFor:!0})],1)})),1):e._e()],1)],1)},l=[],d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"songs-album"},e._l(e.newAlbums,(function(t){return n("router-link",{key:t.id,staticClass:"songs-album-item",attrs:{to:"/album/"+t.id}},[n("figure",{staticClass:"songs-album-figure"},[n("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.picUrl,expression:"album.picUrl"}],staticClass:"songs-album-img",attrs:{alt:""}})]),n("div",{staticClass:"songs-album-info"},[n("p",{staticClass:"songs-album-name elrouter-linkpsis"},[e._v(e._s(t.name))]),n("p",{staticClass:"songs-album-artist ellipsis"},[e._v(" "+e._s(e.getArtist(t.artists).join("/"))+" ")])])])})),1)},g=[],f=n("e498"),m={name:"SongsNewAlbumList",data:function(){return{newAlbums:[]}},methods:{getSingers:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var s,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(f["d"])(e);case 2:s=n.sent,i=s.code,a=s.albums,200===i&&(t.newAlbums=a);case 6:case"end":return n.stop()}}),n)})))()},getArtist:function(e){return e.reduce((function(e,t){return e.push(t.name),e}),[])}}},b=m,p=(n("6cfe"),n("2877")),h=Object(p["a"])(b,d,g,!1,null,"6f441b03",null),v=h.exports,w={name:"SongNewAblum",components:{SongsNewAlbumList:v},data:function(){var e=this;return{active:0,navList:[{id:"ZH",name:"华语"},{id:"EA",name:"欧美"},{id:"KR",name:"韩国"},{id:"JP",name:"日本"}],swiperOptions:{on:{slideChange:function(){e.active=e.swiper.activeIndex}},loop:!1,watchSlidesVisibility:!0}}},computed:{swiper:function(){return this.$refs.mySwiper.swiper}},mounted:function(){this.singers=this.$refs.singer,this.singers[0].getSingers("ZH"),this.$refs.tabs.init()},methods:{handleChange:function(e){var t=this.navList[e]["id"];this.singers[e].getSingers(t)},handleScroll:function(e){this.active!=e&&this.swiper.slideTo(e,0,!1)}}},x=w,O=(n("b4cf"),Object(p["a"])(x,o,l,!1,null,"0dbf5cb9",null)),j=O.exports,S=n("01ea"),C={name:"Songs",components:{SongsNewAlbum:j},data:function(){return{songs:[],activeIndex:this.$route.params.id||1}},created:function(){this.getNewSong()},methods:Object(r["a"])({getNewSong:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n,s,i,a,r,c,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(u["c"])({limit:30});case 2:if(n=t.sent,s=n.code,i=n.result,200==s){for(a=[],r=0,c=i.length;r<c;r++)o={id:i[r]["id"],name:i[r]["name"],album:i[r]["song"]["name"],singer:i[r]["song"]["artists"],picUrl:"",privilege:{pl:i[r]["song"]["privilege"]["pl"]||"",fee:i[r]["song"]["privilege"]["fee"]||"",flag:i[r]["song"]["privilege"]["flag"]||"",maxbr:i[r]["song"]["privilege"]["maxbr"]||""}},a.push(new S["a"](o));e.songs=a}case 6:case"end":return t.stop()}}),t)})))()},getArtist:function(e){return e.reduce((function(e,t){return e.push(t.name),e}),[])},player:function(e,t){this.$drop(t),Object.is(this.songs,this.playList)||(this.setPlay(this.songs),this.setSequenceList(this.songs)),this.setCurrrentIndex(e)},handleChange:function(e){this.activeIndex!=e&&(this.activeIndex=e)}},Object(c["d"])(["setCurrrentIndex","setPlay","setFullScreen","setSequenceList","setSinger"]))},_=C,y=(n("5744"),Object(p["a"])(_,s,i,!1,null,"cf8223f6",null));t["default"]=y.exports},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"12ea":function(e,t,n){},"2b19":function(e,t,n){var s=n("23e7"),i=n("129f");s({target:"Object",stat:!0},{is:i})},"324a":function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));var s=n("2b4c");function i(){return Object(s["a"])({url:"/personalized?limit=6",method:"get"})}function a(e){return Object(s["a"])({url:"/personalized/newsong",method:"get",params:e})}function r(){return Object(s["a"])({url:"/banner",method:"get"})}function c(e){return Object(s["a"])({url:"/song/detail?ids=".concat(e),method:"get"})}},5744:function(e,t,n){"use strict";var s=n("12ea"),i=n.n(s);i.a},5818:function(e,t,n){},"6cfe":function(e,t,n){"use strict";var s=n("5818"),i=n.n(s);i.a},b4cf:function(e,t,n){"use strict";var s=n("fbaa"),i=n.n(s);i.a},e498:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"c",(function(){return o}));var s=n("2b4c");function i(e){return Object(s["a"])({url:"/album?id=".concat(e),method:"get"})}function a(){return Object(s["a"])({url:"/album/newest",method:"get"})}function r(e){return Object(s["a"])({url:"/album/list",method:"get",params:e})}function c(e){return Object(s["a"])({url:"/album/new?area=".concat(e,"&limit=10"),method:"get"})}function u(e){return Object(s["a"])({url:"album/songsaleboard",params:e,method:"get"})}function o(e){return Object(s["a"])({url:"/album/list/style",method:"get",params:e})}},fbaa:function(e,t,n){}}]);
//# sourceMappingURL=songs.03c2a9f1.js.map